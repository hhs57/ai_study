# 知识图谱课程质量检查清单

## 模块完成检查清单

### 1. HTML 文件检查

- [ ] **文件结构**
  - [ ] 正确的DOCTYPE声明
  - [ ] 所有标签正确闭合
  - [ ] UTF-8字符编码
  - [ ] 响应式viewport设置

- [ ] **外部资源**
  - [ ] Tailwind CSS正确加载
  - [ ] D3.js正确加载（如果使用）
  - [ ] Google Fonts正确加载
  - [ ] 所有CDN链接可访问

- [ ] **JavaScript代码**
  - [ ] 无语法错误
  - [ ] 所有函数已定义
  - [ ] 变量声明正确（无未定义变量）
  - [ ] 事件监听器正确绑定
  - [ ] DOMContentLoaded事件正确使用

- [ ] **动画实现**
  - [ ] 每个动画有独立的初始化函数
  - [ ] 播放函数正确实现
  - [ ] 重置函数正确实现
  - [ ] 动画容器正确清空和重建
  - [ ] SVG/D3选择器正确使用
  - [ ] 动画过渡效果流畅

- [ ] **样式和布局**
  - [ ] 所有class已定义
  - [ ] 响应式断点正确设置
  - [ ] 颜色对比度足够（可访问性）
  - [ ] 文字大小合适（移动端可读）
  - [ ] 按钮大小适合触摸点击

### 2. Python 文件检查

- [ ] **导入语句**
  - [ ] 所有依赖正确导入
  - [ ] 无循环导入
  - [ ] 导入顺序规范

- [ ] **代码质量**
  - [ ] 无语法错误
  - [ ] 遵循PEP 8规范
  - [ ] 函数有docstring
  - [ ] 变量命名清晰

- [ ] **功能完整性**
  - [ ] 所有示例函数已实现
  - [ ] 打印输出清晰易读
  - [ ] 示例结果正确
  - [ ] 可视化代码完整（如果使用）

### 3. 功能测试清单

- [ ] **导航功能**
  - [ ] 返回课程目录按钮工作
  - [ ] 上一模块/下一模块链接正确

- [ ] **每个动画测试**
  - [ ] 点击"播放"按钮动画正常启动
  - [ ] 点击"重置"按钮动画正确重置
  - [ ] 动画播放流畅无卡顿
  - [ ] 动画元素位置正确
  - [ ] 动画颜色和样式符合设计
  - [ ] 信息面板正确显示/隐藏
  - [ ] 交互元素（拖拽、点击）正常工作

- [ ] **内容完整性**
  - [ ] 所有章节标题正确显示
  - [ ] 概念卡片内容完整
  - [ ] 示例代码块正确高亮
  - [ ] 链接全部有效

### 4. 跨浏览器测试

- [ ] Chrome浏览器测试通过
- [ ] Firefox浏览器测试通过
- [ ] Edge浏览器测试通过
- [ ] Safari浏览器测试通过（如果可用）

### 5. 响应式测试

- [ ] **桌面（>1024px）**
  - [ ] 布局正常
  - [ ] 动画容器大小合适
  - [ ] 文字清晰可读

- [ ] **平板（768-1024px）**
  - [ ] 布局适配正确
  - [ ] 导航可访问
  - [ ] 动画正常显示

- [ ] **手机（<768px）**
  - [ ] 单列布局正确
  - [ ] 按钮大小足够触摸
  - [ ] 动画适当简化或隐藏
  - [ ] 文字大小可读

### 6. 性能检查

- [ ] 页面加载时间 < 3秒
- [ ] 动画帧率 > 30fps
- [ ] 无内存泄漏
- [ ] 控制台无错误信息
- [ ] 控制台无警告信息

### 7. 可访问性检查

- [ ] 所有交互元素可通过键盘访问
- [ ] 图片有alt属性（如果使用）
- [ ] 颜色对比度符合WCAG 2.1标准
- [ ] 动画有暂停/停止控制

### 8. 链接检查

- [ ] 所有内部链接有效
- [ ] 所有外部CDN链接可访问
- [ ] 无404错误

## 测试记录模板

```
模块: XX - [模块名称]
测试日期: YYYY-MM-DD
测试人: [姓名]

HTML文件检查: ✅ / ⚠️ / ❌
Python文件检查: ✅ / ⚠️ / ❌
功能测试: ✅ / ⚠️ / ❌
浏览器兼容性: ✅ / ⚠️ / ❌
响应式测试: ✅ / ⚠️ / ❌

发现问题:
1. [问题描述]
   - 严重程度: 高/中/低
   - 修复方案: [修复方法]
   - 状态: 待修复/已修复

2. ...

测试结论: 通过 / 不通过
```

## 常见问题及解决方案

### JavaScript问题
1. **未定义变量** - 检查变量声明和使用顺序
2. **DOM元素未找到** - 确保DOM加载后再执行脚本
3. **事件重复绑定** - 使用事件委托或解绑旧事件
4. **动画不更新** - 检查D3数据绑定是否正确

### D3.js常见问题
1. **选择器返回空** - 检查DOM元素是否存在
2. **力导向布局不更新** - 调用simulation.alpha(1).restart()
3. **数据不匹配** - 检查data()和datum()的使用
4. **过渡不生效** - 检查属性名和过渡duration

### 性能问题
1. **动画卡顿** - 使用CSS transforms代替position变化
2. **内存占用高** - 清理不需要的SVG元素
3. **加载慢** - 延迟加载非关键资源

## 最佳实践

1. **代码编写**
   - 先写初始化函数
   - 分离数据准备和渲染逻辑
   - 使用命名空间避免全局污染

2. **调试方法**
   - 使用console.log跟踪数据流
   - 使用浏览器开发者工具检查DOM
   - 使用Performance分析动画性能

3. **测试流程**
   - 完成一个功能立即测试
   - 不要积累多个功能再测试
   - 每次修改后重新测试

## 模块21测试记录

### 测试日期: 2025-01-06

**测试项目:**
1. ✅ HTML结构正确
2. ✅ CSS样式正确加载
3. ✅ D3.js正确加载
4. ✅ 实体动画 - 通过
5. ⚠️ 关系动画 - 发现bug已修复
6. ⚠️ 属性动画 - 待测试
7. ⚠️ 本体动画 - 待测试
8. ⚠️ 三元组动画 - 待测试

**修复记录:**
1. 关系动画 - 边的数据绑定问题 - 已修复
   - 问题: 边不显示和更新
   - 原因: 数据绑定和ticked函数不正确
   - 修复: 重构了linkGroup和labelGroup的管理

**待完成:**
- [ ] 测试剩余4个动画
- [ ] 验证所有交互功能
- [ ] 检查响应式布局
- [ ] 性能测试
