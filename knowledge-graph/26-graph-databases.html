<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å—26: å›¾æ•°æ®åº“åŸºç¡€ - çŸ¥è¯†å›¾è°±å­¦ä¹ å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                },
            },
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
            min-height: 100vh;
            color: #e2e8f0;
            overflow-x: hidden;
        }

        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            pointer-events: none;
            z-index: 0;
            animation: float 20s ease-in-out infinite;
        }

        .orb-1 {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, rgba(59, 130, 246, 0.1) 50%, transparent 70%);
            top: -200px;
            right: -200px;
        }

        .orb-2 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.2) 0%, rgba(236, 72, 153, 0.1) 50%, transparent 70%);
            bottom: -150px;
            left: -150px;
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(30px, -30px) scale(1.1); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        .nav-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 2.5em;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #4ade80 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .concept-card {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box {
            background: rgba(34, 197, 94, 0.1);
            border-left: 4px solid #22c55e;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .animation-container {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
        }

        .animation-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #60a5fa;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .animation-canvas {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 10px;
            min-height: 400px;
            position: relative;
            overflow: hidden;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 0.9em;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .info-panel {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9em;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            overflow-x: auto;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .query-editor {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            padding: 15px;
            font-family: 'JetBrains Mono', monospace;
            color: #e2e8f0;
            border: 2px solid rgba(59, 130, 246, 0.3);
            min-height: 120px;
            resize: vertical;
        }

        .query-editor:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .result-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .neo4j-browser {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #f59e0b;
        }

        .neo4j-header {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .neo4j-content {
            padding: 20px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comparison-table th {
            background: rgba(59, 130, 246, 0.2);
            font-weight: 600;
        }

        .comparison-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        @media (max-width: 768px) {
            .section-title {
                font-size: 2em;
            }
            .glass-card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Background orbs -->
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>

    <div class="container">
        <!-- Navigation -->
        <div class="nav-card">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <a href="index.html" class="text-green-400 hover:text-green-300 transition-colors flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    è¿”å›è¯¾ç¨‹ç›®å½•
                </a>
                <div class="flex items-center gap-4">
                <a href="25-ontology-modeling.html" class="text-gray-400 hover:text-white transition-colors flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    ä¸Šä¸€æ¨¡å—
                </a>
                <a href="27-sparql.html" class="text-gray-400 hover:text-white transition-colors flex items-center gap-2">
                    ä¸‹ä¸€æ¨¡å—
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </a>
                </div>
                <div class="text-gray-400 text-sm">æ¨¡å— 26 / 33</div>
            </div>
        </div>

        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-5xl md:text-6xl font-bold mb-6" style="background: linear-gradient(135deg, #4ade80 0%, #3b82f6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                æ¨¡å— 26: å›¾æ•°æ®åº“åŸºç¡€
            </h1>
            <p class="text-xl text-gray-400 mb-8">æ·±å…¥ç†è§£å›¾æ•°æ®åº“çš„æ ¸å¿ƒæ¦‚å¿µã€ç±»å‹å’Œå®é™…åº”ç”¨</p>
            <div class="flex flex-wrap gap-4 justify-center text-sm">
                <span class="px-4 py-2 bg-green-500/20 text-green-400 rounded-full border border-green-500/30">ä¸­çº§çº§åˆ«</span>
                <span class="px-4 py-2 bg-blue-500/20 text-blue-400 rounded-full border border-blue-500/30">~80 åˆ†é’Ÿ</span>
                <span class="px-4 py-2 bg-purple-500/20 text-purple-400 rounded-full border border-purple-500/30">5 ä¸ªäº¤äº’æ¼”ç¤º</span>
            </div>
        </div>

        <!-- Chapter 1: å›¾æ•°æ®åº“æ¦‚è¿° -->
        <div class="glass-card">
            <h2 class="section-title">1. ä»€ä¹ˆæ˜¯å›¾æ•°æ®åº“?</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">æ ¸å¿ƒå®šä¹‰</h3>
                <p class="text-gray-300 leading-relaxed text-lg mb-3">
                    <strong>å›¾æ•°æ®åº“</strong>æ˜¯ä¸€ç§ä»¥<strong>å›¾ç»“æ„</strong>ï¼ˆèŠ‚ç‚¹å’Œè¾¹ï¼‰æ¥å­˜å‚¨ã€æŸ¥è¯¢å’Œç®¡ç†æ•°æ®çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€‚
                </p>
                <p class="text-gray-400">
                    ä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ä½¿ç”¨è¡¨æ ¼ã€è¡Œå’Œåˆ—æ¥ç»„ç»‡æ•°æ®ä¸åŒï¼Œå›¾æ•°æ®åº“ç›´æ¥å­˜å‚¨å®ä½“ï¼ˆèŠ‚ç‚¹ï¼‰å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼ˆè¾¹ï¼‰ï¼Œä½¿å¾—å¤æ‚å…³ç³»æŸ¥è¯¢å˜å¾—é«˜æ•ˆã€‚
                </p>
            </div>

            <div class="highlight-box">
                <h3 class="text-xl font-bold text-green-300 mb-3">ä¸ºä»€ä¹ˆéœ€è¦å›¾æ•°æ®åº“?</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-black/30 p-4 rounded-lg">
                        <div class="font-bold text-red-400 mb-2">å…³ç³»å‹æ•°æ®åº“çš„é—®é¢˜</div>
                        <ul class="text-gray-300 text-sm space-y-2">
                            <li>âŒ å¤šè¡¨JOINæŸ¥è¯¢æ€§èƒ½å·®</li>
                            <li>âŒ å¤æ‚å…³ç³»æŸ¥è¯¢SQLå¤æ‚</li>
                            <li>âŒ é€’å½’æŸ¥è¯¢ï¼ˆå¦‚ç¤¾äº¤ç½‘ç»œçš„"æœ‹å‹çš„æœ‹å‹"ï¼‰æ•ˆç‡ä½</li>
                            <li>âŒ æ•°æ®æ¨¡å‹åƒµåŒ–ï¼Œschemaå˜æ›´å›°éš¾</li>
                        </ul>
                    </div>
                    <div class="bg-black/30 p-4 rounded-lg">
                        <div class="font-bold text-green-400 mb-2">å›¾æ•°æ®åº“çš„ä¼˜åŠ¿</div>
                        <ul class="text-gray-300 text-sm space-y-2">
                            <li>âœ… åŸç”Ÿæ”¯æŒå…³ç³»æŸ¥è¯¢</li>
                            <li>âœ… å›¾éå†ç®—æ³•æ€§èƒ½é«˜</li>
                            <li>âœ… ç›´è§‚çš„æ•°æ®æ¨¡å‹</li>
                            <li>âœ… çµæ´»çš„schemaï¼ˆæˆ–æ— schemaï¼‰</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="concept-card mt-6">
                <h3 class="text-xl font-bold text-yellow-300 mb-3">å›¾æ•°æ®åº“çš„åº”ç”¨åœºæ™¯</h3>
                <ul class="text-gray-300 space-y-2">
                    <li>ğŸŒ <strong>ç¤¾äº¤ç½‘ç»œ</strong>: å¥½å‹å…³ç³»ã€æ¨èç³»ç»Ÿã€å½±å“åŠ›åˆ†æ</li>
                    <li>ğŸ”— <strong>çŸ¥è¯†å›¾è°±</strong>: å®ä½“å…³ç³»ã€è¯­ä¹‰æœç´¢ã€é—®ç­”ç³»ç»Ÿ</li>
                    <li>ğŸ›’ <strong>ç”µå­å•†åŠ¡</strong>: å•†å“æ¨èã€è´­ä¹°è·¯å¾„åˆ†æ</li>
                    <li>ğŸ¦ <strong>é‡‘èé£æ§</strong>: æ¬ºè¯ˆæ£€æµ‹ã€å…³è”è´¦æˆ·åˆ†æ</li>
                    <li>ğŸ§¬ <strong>ç”Ÿç‰©ä¿¡æ¯</strong>: è›‹ç™½è´¨ç›¸äº’ä½œç”¨ã€åŸºå› è°ƒæ§ç½‘ç»œ</li>
                    <li>ğŸ­ <strong>ä¾›åº”é“¾</strong>: ä¾èµ–å…³ç³»ã€è·¯å¾„ä¼˜åŒ–</li>
                </ul>
            </div>
        </div>

        <!-- Chapter 2: å›¾æ•°æ®åº“ç±»å‹ -->
        <div class="glass-card">
            <h2 class="section-title">2. å›¾æ•°æ®åº“çš„ä¸»è¦ç±»å‹</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ä¸¤ç§ä¸»æµæ¨¡å‹</h3>
                <p class="text-gray-300 leading-relaxed mb-4">
                    å›¾æ•°æ®åº“ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š<strong>å±æ€§å›¾æ¨¡å‹</strong>å’Œ<strong>RDFå›¾æ¨¡å‹</strong>ã€‚
                </p>
            </div>

            <div class="animation-container">
                <div class="animation-title">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                    </svg>
                    åŠ¨ç”»: Property Graph vs RDF Graph å¯¹æ¯”
                </div>
                <div id="graph-model-animation" class="animation-canvas"></div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="showPropertyGraph()">æ˜¾ç¤º Property Graph</button>
                    <button class="btn btn-secondary" onclick="showRDFGraph()">æ˜¾ç¤º RDF Graph</button>
                    <button class="btn btn-secondary" onclick="toggleComparison()">åˆ‡æ¢å¯¹æ¯”è§†å›¾</button>
                </div>
                <div id="model-comparison" class="info-panel hidden">
                    <div class="text-yellow-400 font-bold mb-2">æ ¸å¿ƒå·®å¼‚:</div>
                    <table class="comparison-table text-sm">
                        <thead>
                            <tr>
                                <th>ç‰¹æ€§</th>
                                <th>Property Graph</th>
                                <th>RDF Graph</th>
                            </tr>
                        </thead>
                        <tbody class="text-gray-300">
                            <tr>
                                <td><strong>èŠ‚ç‚¹æ ‡è¯†</strong></td>
                                <td>æ•´æ•°ID</td>
                                <td>URI (ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦)</td>
                            </tr>
                            <tr>
                                <td><strong>è¾¹çš„ç±»å‹</strong></td>
                                <td>æœ‰å‘ï¼Œæœ‰æ ‡ç­¾</td>
                                <td>ä¹Ÿæ˜¯èŠ‚ç‚¹ï¼ˆè°“è¯­æ˜¯URIï¼‰</td>
                            </tr>
                            <tr>
                                <td><strong>å±æ€§</strong></td>
                                <td>èŠ‚ç‚¹å’Œè¾¹éƒ½æœ‰å±æ€§</td>
                                <td>åªæœ‰èŠ‚ç‚¹æœ‰å±æ€§ï¼ˆé€šè¿‡é™„åŠ è¾¹ï¼‰</td>
                            </tr>
                            <tr>
                                <td><strong>æ ‡å‡†</strong></td>
                                <td>å„å‚å•†ç§æœ‰</td>
                                <td>W3Cæ ‡å‡† (RDF, SPARQL)</td>
                            </tr>
                            <tr>
                                <td><strong>æŸ¥è¯¢è¯­è¨€</strong></td>
                                <td>Cypher, Gremlin, GSQL</td>
                                <td>SPARQL</td>
                            </tr>
                            <tr>
                                <td><strong>å…¸å‹æ•°æ®åº“</strong></td>
                                <td>Neo4j, TigerGraph, Amazon Neptune</td>
                                <td>Blazegraph, Stardog, Virtuoso</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Chapter 3: Neo4j å…¥é—¨ -->
        <div class="glass-card">
            <h2 class="section-title">3. Neo4j å…¥é—¨æ¼”ç¤º</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ä»€ä¹ˆæ˜¯ Neo4j?</h3>
                <p class="text-gray-300 leading-relaxed mb-3">
                    <strong>Neo4j</strong>æ˜¯ä¸–ç•Œä¸Šæœ€æµè¡Œçš„<strong>åŸç”Ÿå›¾æ•°æ®åº“</strong>ï¼Œé‡‡ç”¨Property Graphæ¨¡å‹ã€‚
                </p>
                <ul class="text-gray-400 space-y-1 text-sm">
                    <li>â€¢ å¼€æºï¼ˆç¤¾åŒºç‰ˆï¼‰å’Œä¼ä¸šç‰ˆ</li>
                    <li>â€¢ æ”¯æŒ ACID äº‹åŠ¡</li>
                    <li>â€¢ ä½¿ç”¨ Cypher æŸ¥è¯¢è¯­è¨€</li>
                    <li>â€¢ æä¾› REST API å’Œ Bolt åè®®</li>
                </ul>
            </div>

            <div class="animation-container">
                <div class="animation-title">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    æ¨¡æ‹Ÿ Neo4j æµè§ˆå™¨ç•Œé¢
                </div>
                <div class="neo4j-browser">
                    <div class="neo4j-header">
                        <svg class="w-8 h-8" viewBox="0 0 24 24" fill="white">
                            <circle cx="12" cy="12" r="3"/>
                            <circle cx="4" cy="8" r="2"/>
                            <circle cx="20" cy="8" r="2"/>
                            <circle cx="4" cy="16" r="2"/>
                            <circle cx="20" cy="16" r="2"/>
                            <line x1="6.5" y1="9" x2="9.5" y2="10.5" stroke="white" stroke-width="1.5"/>
                            <line x1="17.5" y1="9" x2="14.5" y2="10.5" stroke="white" stroke-width="1.5"/>
                            <line x1="6.5" y1="15" x2="9.5" y2="13.5" stroke="white" stroke-width="1.5"/>
                            <line x1="17.5" y1="15" x2="14.5" y2="13.5" stroke="white" stroke-width="1.5"/>
                        </svg>
                        <span class="text-white font-bold text-lg">Neo4j Browser</span>
                    </div>
                    <div class="neo4j-content">
                        <div class="mb-4">
                            <div class="text-gray-400 text-sm mb-2">$ cypher</div>
                            <div id="cypher-query-display" class="text-green-400 font-mono text-sm p-3 bg-black/30 rounded">
                                MATCH (p:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹'})-[:CEO_of]->(c:Company)
                                RETURN p, c
                            </div>
                        </div>
                        <div id="neo4j-visualization" class="bg-black/30 rounded min-h-[300px]"></div>
                    </div>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="runNeo4jQuery()">â–¶ æ‰§è¡ŒæŸ¥è¯¢</button>
                    <button class="btn btn-secondary" onclick="clearNeo4jResult()">â†º æ¸…é™¤ç»“æœ</button>
                    <button class="btn btn-secondary" onclick="loadSampleData()">ğŸ“¥ åŠ è½½ç¤ºä¾‹æ•°æ®</button>
                </div>
            </div>
        </div>

        <!-- Chapter 4: Cypher æŸ¥è¯¢è¯­è¨€ -->
        <div class="glass-card">
            <h2 class="section-title">4. Cypher æŸ¥è¯¢è¯­è¨€åŸºç¡€</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ä»€ä¹ˆæ˜¯ Cypher?</h3>
                <p class="text-gray-300 leading-relaxed mb-3">
                    <strong>Cypher</strong>æ˜¯Neo4jçš„å£°æ˜å¼æŸ¥è¯¢è¯­è¨€ï¼Œç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“çš„SQLï¼Œä½†ä¸“ä¸ºå›¾æŸ¥è¯¢è®¾è®¡ã€‚
                </p>
                <p class="text-gray-400">
                    Cypherä½¿ç”¨<strong>ASCIIè‰ºæœ¯é£æ ¼</strong>çš„è¯­æ³•æ¥è¡¨ç¤ºå›¾æ¨¡å¼ï¼š(èŠ‚ç‚¹)-[:å…³ç³»]->(èŠ‚ç‚¹)
                </p>
            </div>

            <div class="highlight-box">
                <h3 class="text-xl font-bold text-green-300 mb-3">Cypher åŸºç¡€è¯­æ³•</h3>
                <div class="space-y-3">
                    <div class="code-block">
                        <div class="text-gray-500 mb-2">// 1. åˆ›å»ºèŠ‚ç‚¹</div>
                        <div class="text-green-400">CREATE (p:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹', birth_year: 1971})</div>
                    </div>
                    <div class="code-block">
                        <div class="text-gray-500 mb-2">// 2. åˆ›å»ºå…³ç³»</div>
                        <div class="text-green-400">MATCH (p:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹'})</div>
                        <div class="text-green-400">CREATE (p)-[:CEO_of]->(c:Company {name: 'ç‰¹æ–¯æ‹‰'})</div>
                    </div>
                    <div class="code-block">
                        <div class="text-gray-500 mb-2">// 3. æŸ¥è¯¢æ¨¡å¼</div>
                        <div class="text-green-400">MATCH (p:Person)-[r:CEO_of]->(c:Company)</div>
                        <div class="text-green-400">WHERE p.name = 'åŸƒéš†Â·é©¬æ–¯å…‹'</div>
                        <div class="text-green-400">RETURN p, r, c</div>
                    </div>
                    <div class="code-block">
                        <div class="text-gray-500 mb-2">// 4. æ›´æ–°å±æ€§</div>
                        <div class="text-green-400">MATCH (p:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹'})</div>
                        <div class="text-green-400">SET p.net_worth = 240000000000</div>
                    </div>
                </div>
            </div>

            <div class="animation-container">
                <div class="animation-title">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    äº¤äº’å¼ Cypher æŸ¥è¯¢ç¼–è¾‘å™¨
                </div>
                <div class="mb-3">
                    <textarea id="cypher-editor" class="query-editor w-full" placeholder="è¾“å…¥ Cypher æŸ¥è¯¢...">MATCH (p:Person)-[:CEO_of]->(c:Company)
RETURN p.name AS Person, c.name AS Company
LIMIT 5</textarea>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="executeCypher()">â–¶ æ‰§è¡ŒæŸ¥è¯¢</button>
                    <button class="btn btn-secondary" onclick="loadExampleQuery(1)">ç¤ºä¾‹ 1</button>
                    <button class="btn btn-secondary" onclick="loadExampleQuery(2)">ç¤ºä¾‹ 2</button>
                    <button class="btn btn-secondary" onclick="loadExampleQuery(3)">ç¤ºä¾‹ 3</button>
                </div>
                <div id="cypher-result" class="result-box mt-4">
                    <div class="text-gray-400">ç‚¹å‡»"æ‰§è¡ŒæŸ¥è¯¢"æŸ¥çœ‹ç»“æœ...</div>
                </div>
            </div>
        </div>

        <!-- Chapter 5: å®é™…åº”ç”¨ç¤ºä¾‹ -->
        <div class="glass-card">
            <h2 class="section-title">5. å®é™…åº”ç”¨ç¤ºä¾‹</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ç¤ºä¾‹åœºæ™¯: ç¤¾äº¤ç½‘ç»œåˆ†æ</h3>
                <p class="text-gray-300 leading-relaxed">
                    ä»¥ä¸‹5ä¸ªç¤ºä¾‹å±•ç¤ºå¦‚ä½•ä½¿ç”¨å›¾æ•°æ®åº“è§£å†³å®é™…é—®é¢˜ã€‚
                </p>
            </div>

            <div class="space-y-4">
                <!-- ç¤ºä¾‹ 1 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-blue-500">
                    <h4 class="text-lg font-bold text-blue-400 mb-2">ç¤ºä¾‹ 1: æŸ¥æ‰¾å…±åŒå¥½å‹</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        ç»™å®šä¸¤ä¸ªç”¨æˆ·ï¼Œæ‰¾å‡ºä»–ä»¬æ‰€æœ‰çš„å…±åŒå¥½å‹ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">MATCH (u1:User {name: 'Alice'})-[:FRIEND]-(common)-[:FRIEND]-(u2:User {name: 'Bob'})</div>
                        <div class="text-green-400">RETURN common.name AS CommonFriend</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 2 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-green-500">
                    <h4 class="text-lg font-bold text-green-400 mb-2">ç¤ºä¾‹ 2: æ¨èç³»ç»Ÿï¼ˆååŒè¿‡æ»¤ï¼‰</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        æ‰¾å‡ºä¸å½“å‰ç”¨æˆ·ç›¸ä¼¼çš„ç”¨æˆ·å–œæ¬¢çš„å•†å“ï¼Œè¿›è¡Œæ¨èã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">MATCH (u:User {name: 'Alice'})-[:LIKES]->(p:Product)<-[:LIKES]-(other:User)</div>
                        <div class="text-green-400">MATCH (other)-[:LIKES]->(rec:Product)</div>
                        <div class="text-green-400">WHERE NOT (u)-[:LIKES]->(rec)</div>
                        <div class="text-green-400">RETURN rec.name, COUNT(*) AS score</div>
                        <div class="text-green-400">ORDER BY score DESC LIMIT 10</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 3 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-purple-500">
                    <h4 class="text-lg font-bold text-purple-400 mb-2">ç¤ºä¾‹ 3: æœ€çŸ­è·¯å¾„æŸ¥è¯¢</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        æ‰¾å‡ºä¸¤ä¸ªå®ä½“ä¹‹é—´çš„æœ€çŸ­å…³ç³»è·¯å¾„ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">MATCH path = shortestPath(</div>
                        <div class="text-green-400">  (start:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹'})-[*]-(end:Person {name: 'é©¬å…‹Â·æ‰å…‹ä¼¯æ ¼'})</div>
                        <div class="text-green-400">)</div>
                        <div class="text-green-400">RETURN path, length(path) AS distance</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 4 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-yellow-500">
                    <h4 class="text-lg font-bold text-yellow-400 mb-2">ç¤ºä¾‹ 4: æ¬ºè¯ˆæ£€æµ‹ï¼ˆç¯æ£€æµ‹ï¼‰</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        æ£€æµ‹é‡‘èäº¤æ˜“ä¸­çš„å¼‚å¸¸å¾ªç¯è½¬è´¦æ¨¡å¼ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">MATCH (a:Account)-[t1:TRANSFERED_TO]->(b)-[t2:TRANSFERED_TO]->(c)-[t3:TRANSFERED_TO]->(a)</div>
                        <div class="text-green-400">WHERE t1.amount + t2.amount + t3.amount > 1000000</div>
                        <div class="text-green-400">RETURN a.id, b.id, c.id, t1.amount + t2.amount + t3.amount AS total</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 5 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-pink-500">
                    <h4 class="text-lg font-bold text-pink-400 mb-2">ç¤ºä¾‹ 5: å½±å“åŠ›åˆ†æï¼ˆPageRankï¼‰</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        è®¡ç®—ç¤¾äº¤ç½‘ç»œä¸­ç”¨æˆ·çš„å½±å“åŠ›å¾—åˆ†ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">CALL algo.pageRank.stream('Person', 'FRIEND')</div>
                        <div class="text-green-400">YIELD nodeId, score</div>
                        <div class="text-green-400">RETURN algo.getNodeById(nodeId).name AS person, score</div>
                        <div class="text-green-400">ORDER BY score DESC LIMIT 10</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="glass-card">
            <h2 class="section-title">æ¨¡å—æ€»ç»“</h2>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="concept-card">
                    <h3 class="text-xl font-bold text-green-400 mb-3">æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>ğŸ“Š <strong>å›¾æ•°æ®åº“</strong>: ä»¥å›¾ç»“æ„å­˜å‚¨æ•°æ®çš„æ•°æ®åº“</li>
                        <li>ğŸ”„ <strong>Property Graph</strong>: èŠ‚ç‚¹å’Œè¾¹éƒ½æœ‰å±æ€§çš„å›¾æ¨¡å‹</li>
                        <li>ğŸ”— <strong>RDF Graph</strong>: åŸºäºW3Cæ ‡å‡†çš„è¯­ä¹‰ç½‘å›¾æ¨¡å‹</li>
                        <li>âš¡ <strong>Neo4j</strong>: æœ€æµè¡Œçš„åŸç”Ÿå›¾æ•°æ®åº“</li>
                        <li>ğŸ’» <strong>Cypher</strong>: Neo4jçš„å£°æ˜å¼æŸ¥è¯¢è¯­è¨€</li>
                    </ul>
                </div>
                <div class="concept-card">
                    <h3 class="text-xl font-bold text-blue-400 mb-3">å®è·µå»ºè®®</h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>âœ… æ•°æ®å…³ç³»å¤æ‚æ—¶ä¼˜å…ˆé€‰æ‹©å›¾æ•°æ®åº“</li>
                        <li>âœ… å¤šè·³æŸ¥è¯¢ï¼ˆ3å±‚ä»¥ä¸Šï¼‰ç”¨å›¾æ•°æ®åº“æ€§èƒ½æ›´ä¼˜</li>
                        <li>âœ… ç¤¾äº¤ç½‘ç»œã€æ¨èç³»ç»Ÿã€çŸ¥è¯†å›¾è°±æ˜¯å…¸å‹åº”ç”¨åœºæ™¯</li>
                        <li>âœ… å­¦ä¹ Cypherçš„åŸºç¡€è¯­æ³•ï¼ˆMATCH, CREATE, RETURNï¼‰</li>
                        <li>âœ… ç†è§£å›¾éå†ç®—æ³•ï¼ˆæœ€çŸ­è·¯å¾„ã€PageRankï¼‰</li>
                    </ul>
                </div>
            </div>
            <div class="highlight-box mt-6">
                <h3 class="text-xl font-bold text-purple-400 mb-3">ä¸‹ä¸€æ­¥å­¦ä¹ </h3>
                <p class="text-gray-300 mb-3">
                    æŒæ¡äº†å›¾æ•°æ®åº“åŸºç¡€åï¼Œå»ºè®®ç»§ç»­å­¦ä¹ :
                </p>
                <a href="27-sparql.html" class="text-blue-400 hover:text-blue-300 transition-colors inline-flex items-center gap-2">
                    æ¨¡å— 27: SPARQLå’ŒçŸ¥è¯†å›¾è°±æŸ¥è¯¢ - å­¦ä¹ RDFå›¾è°±çš„æ ‡å‡†æŸ¥è¯¢è¯­è¨€
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                    </svg>
                </a>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center py-8 text-gray-500 text-sm">
            <p>çŸ¥è¯†å›¾è°±å­¦ä¹ å¹³å° Â· æ¨¡å— 26: å›¾æ•°æ®åº“åŸºç¡€</p>
        </div>
    </div>

    <script>
        // ============================================================
        // åŠ¨ç”» 1: Property Graph vs RDF Graph å¯¹æ¯”
        // ============================================================
        let graphSvg, currentView = 'none';

        function initGraphModelAnimation() {
            const container = document.getElementById("graph-model-animation");
            container.innerHTML = "";
            const width = container.clientWidth;
            const height = 400;

            graphSvg = d3.select("#graph-model-animation")
                .append("svg")
                .attr("width", width)
                .attr("height", height);

            graphSvg.append("text")
                .attr("x", width / 2)
                .attr("y", 30)
                .attr("text-anchor", "middle")
                .attr("fill", "#60a5fa")
                .attr("font-size", "18px")
                .attr("font-weight", "bold")
                .text("ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¸åŒå›¾æ¨¡å‹");
        }

        function showPropertyGraph() {
            resetGraphModelAnimation();
            const width = graphSvg.node().clientWidth;

            // æ ‡é¢˜
            graphSvg.append("text")
                .attr("x", width / 2)
                .attr("y", 30)
                .attr("text-anchor", "middle")
                .attr("fill", "#3b82f6")
                .attr("font-size", "20px")
                .attr("font-weight", "bold")
                .text("Property Graph æ¨¡å‹");

            // èŠ‚ç‚¹æ•°æ®ï¼ˆå¸¦å±æ€§ï¼‰
            const nodes = [
                {
                    id: 1,
                    name: "åŸƒéš†Â·é©¬æ–¯å…‹",
                    labels: ["Person"],
                    properties: { name: "åŸƒéš†Â·é©¬æ–¯å…‹", birth_year: 1971 },
                    x: width * 0.3,
                    y: 200
                },
                {
                    id: 2,
                    name: "ç‰¹æ–¯æ‹‰",
                    labels: ["Company"],
                    properties: { name: "ç‰¹æ–¯æ‹‰", founded: 2003 },
                    x: width * 0.7,
                    y: 200
                }
            ];

            // è¾¹æ•°æ®ï¼ˆå¸¦å±æ€§ï¼‰
            const links = [
                {
                    source: nodes[0],
                    target: nodes[1],
                    type: "CEO_of",
                    properties: { since: 2008 }
                }
            ];

            // ç»˜åˆ¶è¾¹
            graphSvg.append("line")
                .attr("x1", nodes[0].x)
                .attr("y1", nodes[0].y)
                .attr("x2", nodes[1].x)
                .attr("y2", nodes[1].y)
                .attr("stroke", "#22c55e")
                .attr("stroke-width", 3)
                .attr("marker-end", "url(#arrow)");

            // å…³ç³»æ ‡ç­¾
            graphSvg.append("text")
                .attr("x", (nodes[0].x + nodes[1].x) / 2)
                .attr("y", (nodes[0].y + nodes[1].y) / 2 - 15)
                .attr("text-anchor", "middle")
                .attr("fill", "#22c55e")
                .attr("font-size", "12px")
                .attr("font-weight", "bold")
                .text("CEO_of");

            // ç»˜åˆ¶èŠ‚ç‚¹
            nodes.forEach((node, i) => {
                const g = graphSvg.append("g")
                    .attr("transform", `translate(${node.x}, ${node.y})`)
                    .style("opacity", 0);

                // èŠ‚ç‚¹åœ†
                g.append("circle")
                    .attr("r", 50)
                    .attr("fill", i === 0 ? "#3b82f6" : "#8b5cf6")
                    .attr("opacity", 0.6);

                // æ ‡ç­¾
                g.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", 5)
                    .attr("fill", "white")
                    .attr("font-size", "13px")
                    .attr("font-weight", "bold")
                    .text(node.name);

                // èŠ‚ç‚¹ID
                g.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", 75)
                    .attr("fill", "#9ca3af")
                    .attr("font-size", "11px")
                    .text(`ID: ${node.id}`);

                // å±æ€§æ¡†
                const props = Object.entries(node.properties);
                props.forEach(([key, value], idx) => {
                    g.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", 95 + idx * 15)
                        .attr("fill", "#e2e8f0")
                        .attr("font-size", "10px")
                        .text(`${key}: ${value}`);
                });

                g.transition()
                    .delay(i * 300)
                    .duration(500)
                    .style("opacity", 1);
            });

            // è¯´æ˜
            graphSvg.append("text")
                .attr("x", width / 2)
                .attr("y", 380)
                .attr("text-anchor", "middle")
                .attr("fill", "#9ca3af")
                .attr("font-size", "12px")
                .text("Property Graph: èŠ‚ç‚¹å’Œè¾¹éƒ½æœ‰å±æ€§ï¼Œä½¿ç”¨æ•´æ•°ID");
        }

        function showRDFGraph() {
            resetGraphModelAnimation();
            const width = graphSvg.node().clientWidth;

            // æ ‡é¢˜
            graphSvg.append("text")
                .attr("x", width / 2)
                .attr("y", 30)
                .attr("text-anchor", "middle")
                .attr("fill", "#8b5cf6")
                .attr("font-size", "20px")
                .attr("font-weight", "bold")
                .text("RDF Graph æ¨¡å‹");

            // ä¸‰å…ƒç»„æ•°æ®
            const triples = [
                {
                    subject: "http://example.org/elon",
                    predicate: "http://example.org/ceo_of",
                    object: "http://example.org/tesla"
                }
            ];

            const positions = [
                { x: width * 0.25, y: 200 },
                { x: width * 0.75, y: 200 }
            ];

            // ç»˜åˆ¶ä¸‰å…ƒç»„
            triples.forEach((triple, i) => {
                // ä¸»è¯­èŠ‚ç‚¹
                const subj = graphSvg.append("g")
                    .attr("transform", `translate(${positions[0].x}, ${positions[0].y})`)
                    .style("opacity", 0);

                subj.append("circle")
                    .attr("r", 45)
                    .attr("fill", "#3b82f6")
                    .attr("opacity", 0.6);

                subj.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", -15)
                    .attr("fill", "white")
                    .attr("font-size", "11px")
                    .attr("font-weight", "bold")
                    .text("Subject");

                subj.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", 5)
                    .attr("fill", "#e2e8f0")
                    .attr("font-size", "10px")
                    .text("åŸƒéš†Â·é©¬æ–¯å…‹");

                subj.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", 65)
                    .attr("fill", "#9ca3af")
                    .attr("font-size", "9px")
                    .text("http://example.org/elon");

                subj.transition()
                    .duration(500)
                    .style("opacity", 1);

                // å®¾è¯­èŠ‚ç‚¹
                const obj = graphSvg.append("g")
                    .attr("transform", `translate(${positions[1].x}, ${positions[1].y})`)
                    .style("opacity", 0);

                obj.append("circle")
                    .attr("r", 45)
                    .attr("fill", "#8b5cf6")
                    .attr("opacity", 0.6);

                obj.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", -15)
                    .attr("fill", "white")
                    .attr("font-size", "11px")
                    .attr("font-weight", "bold")
                    .text("Object");

                obj.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", 5)
                    .attr("fill", "#e2e8f0")
                    .attr("font-size", "10px")
                    .text("ç‰¹æ–¯æ‹‰");

                obj.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", 65)
                    .attr("fill", "#9ca3af")
                    .attr("font-size", "9px")
                    .text("http://example.org/tesla");

                obj.transition()
                    .delay(300)
                    .duration(500)
                    .style("opacity", 1);

                // è°“è¯­è¾¹
                setTimeout(() => {
                    graphSvg.append("line")
                        .attr("x1", positions[0].x)
                        .attr("y1", positions[0].y)
                        .attr("x2", positions[1].x)
                        .attr("y2", positions[1].y)
                        .attr("stroke", "#22c55e")
                        .attr("stroke-width", 3)
                        .attr("opacity", 0)
                        .transition()
                        .duration(500)
                        .attr("opacity", 1);

                    graphSvg.append("text")
                        .attr("x", (positions[0].x + positions[1].x) / 2)
                        .attr("y", (positions[0].y + positions[1].y) / 2 - 15)
                        .attr("text-anchor", "middle")
                        .attr("fill", "#22c55e")
                        .attr("font-size", "11px")
                        .attr("font-weight", "bold")
                        .style("opacity", 0)
                        .text("ceo_of (Predicate)")
                        .transition()
                        .delay(250)
                        .duration(500)
                        .style("opacity", 1);

                    graphSvg.append("text")
                        .attr("x", (positions[0].x + positions[1].x) / 2)
                        .attr("y", (positions[0].y + positions[1].y) / 2)
                        .attr("text-anchor", "middle")
                        .attr("fill", "#9ca3af")
                        .attr("font-size", "9px")
                        .style("opacity", 0)
                        .text("http://example.org/ceo_of")
                        .transition()
                        .delay(250)
                        .duration(500)
                        .style("opacity", 1);
                }, 600);
            });

            // è¯´æ˜
            graphSvg.append("text")
                .attr("x", width / 2)
                .attr("y", 380)
                .attr("text-anchor", "middle")
                .attr("fill", "#9ca3af")
                .attr("font-size", "12px")
                .text("RDF Graph: æ‰€æœ‰å…ƒç´ éƒ½æ˜¯URIï¼Œè°“è¯­ä¹Ÿæ˜¯èŠ‚ç‚¹ï¼ˆè¾¹æ˜¯ä¸‰å…ƒç»„ï¼‰");
        }

        function toggleComparison() {
            const panel = document.getElementById("model-comparison");
            panel.classList.toggle("hidden");
        }

        function resetGraphModelAnimation() {
            if (graphSvg) {
                graphSvg.selectAll("*").remove();
                initGraphModelAnimation();
            }
        }

        // ============================================================
        // åŠ¨ç”» 2: Neo4j æµè§ˆå™¨æ¨¡æ‹Ÿ
        // ============================================================
        let neo4jSvg;

        function initNeo4jVisualization() {
            const container = document.getElementById("neo4j-visualization");
            container.innerHTML = "";
            const width = container.clientWidth;
            const height = 300;

            neo4jSvg = d3.select("#neo4j-visualization")
                .append("svg")
                .attr("width", width)
                .attr("height", height);

            neo4jSvg.append("text")
                .attr("x", width / 2)
                .attr("y", height / 2)
                .attr("text-anchor", "middle")
                .attr("fill", "#6b7280")
                .attr("font-size", "14px")
                .text("ç‚¹å‡»\"æ‰§è¡ŒæŸ¥è¯¢\"æŸ¥çœ‹ç»“æœ");
        }

        function runNeo4jQuery() {
            if (!neo4jSvg) {
                initNeo4jVisualization();
            }
            neo4jSvg.selectAll("*").remove();

            const width = neo4jSvg.attr("width");
            const height = 300;

            // èŠ‚ç‚¹
            const nodes = [
                { name: "åŸƒéš†Â·é©¬æ–¯å…‹", label: "Person", x: width * 0.3, y: height / 2, color: "#3b82f6" },
                { name: "ç‰¹æ–¯æ‹‰", label: "Company", x: width * 0.7, y: height / 2, color: "#8b5cf6" }
            ];

            // ç»˜åˆ¶è¾¹
            neo4jSvg.append("line")
                .attr("x1", nodes[0].x)
                .attr("y1", nodes[0].y)
                .attr("x2", nodes[1].x)
                .attr("y2", nodes[1].y)
                .attr("stroke", "#22c55e")
                .attr("stroke-width", 3)
                .attr("opacity", 0)
                .transition()
                .duration(800)
                .attr("opacity", 1);

            // å…³ç³»æ ‡ç­¾
            neo4jSvg.append("text")
                .attr("x", (nodes[0].x + nodes[1].x) / 2)
                .attr("y", (nodes[0].y + nodes[1].y) / 2 - 15)
                .attr("text-anchor", "middle")
                .attr("fill", "#22c55e")
                .attr("font-size", "12px")
                .attr("font-weight", "bold")
                .style("opacity", 0)
                .text("CEO_of")
                .transition()
                .delay(400)
                .duration(500)
                .style("opacity", 1);

            // ç»˜åˆ¶èŠ‚ç‚¹
            nodes.forEach((node, i) => {
                const g = neo4jSvg.append("g")
                    .attr("transform", `translate(${node.x}, ${node.y})`)
                    .style("opacity", 0);

                // èŠ‚ç‚¹åœ†
                g.append("circle")
                    .attr("r", 40)
                    .attr("fill", node.color)
                    .attr("opacity", 0.6);

                // æ ‡ç­¾
                g.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", -18)
                    .attr("fill", "white")
                    .attr("font-size", "10px")
                    .text(node.label);

                g.append("text")
                    .attr("text-anchor", "middle")
                    .attr("dy", 5)
                    .attr("fill", "white")
                    .attr("font-size", "11px")
                    .attr("font-weight", "bold")
                    .text(node.name);

                g.transition()
                    .delay(i * 400)
                    .duration(500)
                    .style("opacity", 1);
            });
        }

        function clearNeo4jResult() {
            initNeo4jVisualization();
        }

        function loadSampleData() {
            alert("ç¤ºä¾‹æ•°æ®å·²åŠ è½½ï¼šPersonèŠ‚ç‚¹(åŸƒéš†Â·é©¬æ–¯å…‹)ã€CompanyèŠ‚ç‚¹(ç‰¹æ–¯æ‹‰)ã€CEO_ofå…³ç³»");
        }

        // ============================================================
        // åŠ¨ç”» 3: Cypher æŸ¥è¯¢ç¼–è¾‘å™¨
        // ============================================================
        function executeCypher() {
            const query = document.getElementById("cypher-editor").value;
            const resultDiv = document.getElementById("cypher-result");

            // æ¨¡æ‹ŸæŸ¥è¯¢ç»“æœ
            const mockResults = [
                {
                    table: `
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-gray-600">
                                    <th class="text-left py-2 px-3 text-blue-400">Person</th>
                                    <th class="text-left py-2 px-3 text-purple-400">Company</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-300">
                                <tr class="border-b border-gray-700">
                                    <td class="py-2 px-3">åŸƒéš†Â·é©¬æ–¯å…‹</td>
                                    <td class="py-2 px-3">ç‰¹æ–¯æ‹‰</td>
                                </tr>
                                <tr class="border-b border-gray-700">
                                    <td class="py-2 px-3">åŸƒéš†Â·é©¬æ–¯å…‹</td>
                                    <td class="py-2 px-3">SpaceX</td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-3">è’‚å§†Â·åº“å…‹</td>
                                    <td class="py-2 px-3">è‹¹æœ</td>
                                </tr>
                            </tbody>
                        </table>
                    `,
                    stats: "3 è¡Œç»“æœ, è€—æ—¶: 2ms"
                }
            ];

            resultDiv.innerHTML = `
                <div class="text-green-400 font-bold mb-2">âœ“ æŸ¥è¯¢æˆåŠŸ</div>
                ${mockResults[0].table}
                <div class="text-gray-400 text-xs mt-3">${mockResults[0].stats}</div>
            `;
        }

        function loadExampleQuery(num) {
            const queries = {
                1: `MATCH (p:Person)-[:CEO_of]->(c:Company)
RETURN p.name AS Person, c.name AS Company
LIMIT 5`,
                2: `MATCH (p:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹'})-[r]->(related)
RETURN type(r) AS Relationship, related.name AS Name`,
                3: `MATCH path = shortestPath(
  (a:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹'})-[*]-(b:Person {name: 'è’‚å§†Â·åº“å…‹'})
)
RETURN path`
            };

            document.getElementById("cypher-editor").value = queries[num];
        }

        // ============================================================
        // åˆå§‹åŒ–
        // ============================================================
        document.addEventListener("DOMContentLoaded", function() {
            initGraphModelAnimation();
            initNeo4jVisualization();
        });
    </script>
</body>
</html>
