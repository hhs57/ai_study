<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å—28: çŸ¥è¯†æŠ½å–ä¸æ„å»º - çŸ¥è¯†å›¾è°±å­¦ä¹ å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                },
            },
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
            min-height: 100vh;
            color: #e2e8f0;
            overflow-x: hidden;
        }

        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            pointer-events: none;
            z-index: 0;
            animation: float 20s ease-in-out infinite;
        }

        .orb-1 {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, rgba(59, 130, 246, 0.1) 50%, transparent 70%);
            top: -200px;
            right: -200px;
        }

        .orb-2 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.2) 0%, rgba(236, 72, 153, 0.1) 50%, transparent 70%);
            bottom: -150px;
            left: -150px;
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(30px, -30px) scale(1.1); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        .nav-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 2.5em;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #4ade80 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .concept-card {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box {
            background: rgba(34, 197, 94, 0.1);
            border-left: 4px solid #22c55e;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .animation-container {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
        }

        .animation-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #60a5fa;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .animation-canvas {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 10px;
            min-height: 400px;
            position: relative;
            overflow: hidden;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 0.9em;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .info-panel {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9em;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            overflow-x: auto;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .ner-highlight {
            display: inline;
            padding: 2px 4px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .ner-highlight:hover {
            filter: brightness(1.2);
            transform: scale(1.05);
        }

        .ner-person { background: rgba(59, 130, 246, 0.3); border-bottom: 2px solid #3b82f6; }
        .ner-location { background: rgba(34, 197, 94, 0.3); border-bottom: 2px solid #22c55e; }
        .ner-organization { background: rgba(139, 92, 246, 0.3); border-bottom: 2px solid #8b5cf6; }
        .ner-date { background: rgba(245, 158, 11, 0.3); border-bottom: 2px solid #f59e0b; }

        @media (max-width: 768px) {
            .section-title {
                font-size: 2em;
            }
            .glass-card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Background orbs -->
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>

    <div class="container">
        <!-- Navigation -->
        <div class="nav-card">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <a href="index.html" class="text-green-400 hover:text-green-300 transition-colors flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    è¿”å›è¯¾ç¨‹ç›®å½•
                </a>
                <div class="flex items-center gap-4">
                <a href="27-sparql.html" class="text-gray-400 hover:text-white transition-colors flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    ä¸Šä¸€æ¨¡å—
                </a>
                <a href="29-graph-algorithms.html" class="text-gray-400 hover:text-white transition-colors flex items-center gap-2">
                    ä¸‹ä¸€æ¨¡å—
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </a>
                </div>
                <div class="text-gray-400 text-sm">æ¨¡å— 28 / 33</div>
            </div>
        </div>

        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-5xl md:text-6xl font-bold mb-6" style="background: linear-gradient(135deg, #4ade80 0%, #3b82f6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                æ¨¡å— 28: çŸ¥è¯†æŠ½å–ä¸æ„å»º
            </h1>
            <p class="text-xl text-gray-400 mb-8">ä»éç»“æ„åŒ–æ–‡æœ¬ä¸­è‡ªåŠ¨æŠ½å–çŸ¥è¯†å¹¶æ„å»ºçŸ¥è¯†å›¾è°±</p>
            <div class="flex flex-wrap gap-4 justify-center text-sm">
                <span class="px-4 py-2 bg-green-500/20 text-green-400 rounded-full border border-green-500/30">ä¸­çº§çº§åˆ«</span>
                <span class="px-4 py-2 bg-blue-500/20 text-blue-400 rounded-full border border-blue-500/30">~100 åˆ†é’Ÿ</span>
                <span class="px-4 py-2 bg-purple-500/20 text-purple-400 rounded-full border border-purple-500/30">6 ä¸ªäº¤äº’æ¼”ç¤º</span>
            </div>
        </div>

        <!-- Chapter 1: ä¿¡æ¯æŠ½å–æµç¨‹ -->
        <div class="glass-card">
            <h2 class="section-title">1. ä¿¡æ¯æŠ½å–æµç¨‹</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ä»€ä¹ˆæ˜¯ä¿¡æ¯æŠ½å–?</h3>
                <p class="text-gray-300 leading-relaxed text-lg mb-3">
                    <strong>ä¿¡æ¯æŠ½å–</strong> (Information Extraction) æ˜¯ä»<strong>éç»“æ„åŒ–æ–‡æœ¬</strong>ä¸­è‡ªåŠ¨æå–
                    <strong>ç»“æ„åŒ–çŸ¥è¯†</strong>çš„æŠ€æœ¯ï¼Œæ˜¯çŸ¥è¯†å›¾è°±æ„å»ºçš„æ ¸å¿ƒç¯èŠ‚ã€‚
                </p>
                <p class="text-gray-400">
                    é€šè¿‡ä¿¡æ¯æŠ½å–ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ–°é—»ã€è®ºæ–‡ã€ç½‘é¡µç­‰æ–‡æœ¬ä¸­è¯†åˆ«å®ä½“ã€å…³ç³»å’Œäº‹ä»¶ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºçŸ¥è¯†å›¾è°±ä¸­çš„ä¸‰å…ƒç»„ã€‚
                </p>
            </div>

            <div class="highlight-box">
                <h3 class="text-xl font-bold text-green-300 mb-3">ä¿¡æ¯æŠ½å–çš„ä¸»è¦ä»»åŠ¡</h3>
                <div class="grid md:grid-cols-3 gap-4">
                    <div class="bg-black/30 p-4 rounded-lg border-l-4 border-blue-500">
                        <div class="font-bold text-blue-400 mb-2">å‘½åå®ä½“è¯†åˆ« (NER)</div>
                        <p class="text-gray-300 text-sm">è¯†åˆ«äººåã€åœ°åã€æœºæ„åç­‰å®ä½“</p>
                        <div class="mt-2 text-xs text-gray-400">ä¾‹: "åŸƒéš†Â·é©¬æ–¯å…‹" â†’ PER</div>
                    </div>
                    <div class="bg-black/30 p-4 rounded-lg border-l-4 border-green-500">
                        <div class="font-bold text-green-400 mb-2">å…³ç³»æŠ½å– (RE)</div>
                        <p class="text-gray-300 text-sm">è¯†åˆ«å®ä½“ä¹‹é—´çš„è¯­ä¹‰å…³ç³»</p>
                        <div class="mt-2 text-xs text-gray-400">ä¾‹: "é©¬æ–¯å…‹åˆ›ç«‹äº†SpaceX" â†’ founder_of</div>
                    </div>
                    <div class="bg-black/30 p-4 rounded-lg border-l-4 border-purple-500">
                        <div class="font-bold text-purple-400 mb-2">äº‹ä»¶æŠ½å– (EE)</div>
                        <p class="text-gray-300 text-sm">è¯†åˆ«ç‰¹å®šç±»å‹çš„äº‹ä»¶åŠå‚ä¸è€…</p>
                        <div class="mt-2 text-xs text-gray-400">ä¾‹: "ç‰¹æ–¯æ‹‰å‘å¸ƒæ–°è½¦" â†’ äº§å“å‘å¸ƒäº‹ä»¶</div>
                    </div>
                </div>
            </div>

            <div class="animation-container">
                <div class="animation-title">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    åŠ¨ç”»: ä¿¡æ¯æŠ½å–å®Œæ•´æµç¨‹
                </div>
                <div id="extraction-flow-animation" class="animation-canvas"></div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="playExtractionFlow()">â–¶ æ’­æ”¾æµç¨‹</button>
                    <button class="btn btn-secondary" onclick="resetExtractionFlow()">â†º é‡ç½®</button>
                    <button class="btn btn-secondary" onclick="showNextStep()">â†’ ä¸‹ä¸€æ­¥</button>
                </div>
                <div id="extraction-flow-info" class="info-panel">
                    <div class="text-yellow-400 font-bold mb-2">å½“å‰æ­¥éª¤:</div>
                    <div id="extraction-flow-description" class="text-gray-300">
                        ç‚¹å‡»"æ’­æ”¾æµç¨‹"æŸ¥çœ‹ä¿¡æ¯æŠ½å–çš„å®Œæ•´æµç¨‹
                    </div>
                </div>
            </div>
        </div>

        <!-- Chapter 2: NLP å·¥å…·å±•ç¤º -->
        <div class="glass-card">
            <h2 class="section-title">2. NLP å·¥å…·å±•ç¤º</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">å¸¸ç”¨çš„ NLP å·¥å…·åº“</h3>
                <p class="text-gray-300 leading-relaxed">
                    ä¿¡æ¯æŠ½å–ä¸¥é‡ä¾èµ–è‡ªç„¶è¯­è¨€å¤„ç†(NLP)æŠ€æœ¯ï¼Œä»¥ä¸‹æ˜¯æœ€å¸¸ç”¨çš„å·¥å…·åº“ã€‚
                </p>
            </div>

            <div class="space-y-4">
                <!-- spaCy -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-blue-500">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="text-3xl">ğŸ¦€</div>
                        <div>
                            <h4 class="text-lg font-bold text-blue-400">spaCy</h4>
                            <p class="text-gray-400 text-sm">å·¥ä¸šçº§NLPåº“ï¼Œæ”¯æŒå¤šè¯­è¨€</p>
                        </div>
                    </div>
                    <div class="code-block text-sm">
                        <div class="text-gray-500"># å®‰è£…: pip install spacy</div>
                        <div class="text-gray-500"># ä¸‹è½½ä¸­æ–‡æ¨¡å‹: python -m spacy download zh_core_web_sm</div>
                        <div class="mt-2"></div>
                        <div class="text-green-400">import spacy</div>
                        <div class="text-green-400">nlp = spacy.load("zh_core_web_sm")</div>
                        <div class="text-green-400">doc = nlp("åŸƒéš†Â·é©¬æ–¯å…‹åˆ›ç«‹äº†ç‰¹æ–¯æ‹‰å…¬å¸")</div>
                        <div class="text-green-400">for ent in doc.ents:</div>
                        <div class="text-green-400 ml-4">print(ent.text, ent.label_)</div>
                        <div class="text-gray-400"># è¾“å‡º: åŸƒéš†Â·é©¬æ–¯å…‹ PERSON, ç‰¹æ–¯æ‹‰ ORG</div>
                    </div>
                </div>

                <!-- Transformers -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-green-500">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="text-3xl">ğŸ¤—</div>
                        <div>
                            <h4 class="text-lg font-bold text-green-400">Transformers (Hugging Face)</h4>
                            <p class="text-gray-400 text-sm">é¢„è®­ç»ƒæ¨¡å‹åº“ï¼ŒBERTç­‰</p>
                        </div>
                    </div>
                    <div class="code-block text-sm">
                        <div class="text-gray-500"># å®‰è£…: pip install transformers</div>
                        <div class="mt-2"></div>
                        <div class="text-green-400">from transformers import pipeline</div>
                        <div class="text-green-400">ner = pipeline("ner", aggregation_strategy="simple")</div>
                        <div class="text-green-400">results = ner("åŸƒéš†Â·é©¬æ–¯å…‹åœ¨2003å¹´åˆ›ç«‹äº†ç‰¹æ–¯æ‹‰")</div>
                        <div class="text-green-400">print(results)</div>
                        <div class="text-gray-400"># è¾“å‡º: [{'entity_group': 'PER', 'score': 0.99, 'word': 'åŸƒéš†Â·é©¬æ–¯å…‹', ...}]</div>
                    </div>
                </div>

                <!-- HanLP -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-purple-500">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="text-3xl">ğŸ”¥</div>
                        <div>
                            <h4 class="text-lg font-bold text-purple-400">HanLP</h4>
                            <p class="text-gray-400 text-sm">ä¸­æ–‡NLPå·¥å…·åŒ…</p>
                        </div>
                    </div>
                    <div class="code-block text-sm">
                        <div class="text-gray-500"># å®‰è£…: pip install hanlp</div>
                        <div class="mt-2"></div>
                        <div class="text-green-400">from hanlp import HanLP</div>
                        <div class="text-green-400">result = HanLP("åŸƒéš†Â·é©¬æ–¯å…‹åˆ›ç«‹äº†ç‰¹æ–¯æ‹‰", tasks='ner')</div>
                        <div class="text-green-400">print(result['ner'])</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chapter 3: å‘½åå®ä½“è¯†åˆ« (NER) -->
        <div class="glass-card">
            <h2 class="section-title">3. å‘½åå®ä½“è¯†åˆ« (NER)</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ä»€ä¹ˆæ˜¯ NER?</h3>
                <p class="text-gray-300 leading-relaxed mb-3">
                    <strong>å‘½åå®ä½“è¯†åˆ«</strong> (Named Entity Recognition) æ˜¯ä»æ–‡æœ¬ä¸­è¯†åˆ«å¹¶åˆ†ç±»<strong>å‘½åå®ä½“</strong>çš„ä»»åŠ¡ã€‚
                </p>
                <p class="text-gray-400">
                    å¸¸è§çš„å®ä½“ç±»å‹åŒ…æ‹¬ï¼šäººç‰©(PER)ã€åœ°ç‚¹(LOC)ã€ç»„ç»‡(ORG)ã€æ—¶é—´(TIME)ã€æ•°å­—(NUM)ç­‰ã€‚
                </p>
            </div>

            <div class="animation-container">
                <div class="animation-title">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/>
                    </svg>
                    äº¤äº’å¼ NER æ ‡æ³¨æ¼”ç¤º
                </div>
                <div id="ner-demo" class="bg-black/30 p-6 rounded-lg min-h-[150px]">
                    <p class="text-lg leading-relaxed" id="ner-text">
                        <span class="ner-highlight ner-person" onclick="showEntityInfo(this, 'PERSON', 'äººç‰©')">åŸƒéš†Â·é©¬æ–¯å…‹</span>
                        åœ¨
                        <span class="ner-highlight ner-date" onclick="showEntityInfo(this, 'DATE', 'æ—¥æœŸ')">2003å¹´</span>
                        åˆ›ç«‹äº†
                        <span class="ner-highlight ner-organization" onclick="showEntityInfo(this, 'ORG', 'ç»„ç»‡')">ç‰¹æ–¯æ‹‰å…¬å¸</span>
                        ï¼Œè¯¥å…¬å¸ä½äº
                        <span class="ner-highlight ner-location" onclick="showEntityInfo(this, 'LOCATION', 'åœ°ç‚¹')">ç¾å›½åŠ åˆ©ç¦å°¼äºšå·</span>
                        ã€‚
                    </p>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="highlightEntities()">â–¶ é«˜äº®å®ä½“</button>
                    <button class="btn btn-secondary" onclick="loadNewText()">ğŸ”„ æ¢ä¸€æ®µæ–‡æœ¬</button>
                    <button class="btn btn-secondary" onclick="extractTriples()">â†’ æå–ä¸‰å…ƒç»„</button>
                </div>
                <div id="ner-info" class="info-panel">
                    <div class="text-yellow-400 font-bold mb-2">å®ä½“ç±»å‹è¯´æ˜:</div>
                    <div class="text-sm text-gray-300">
                        ç‚¹å‡»æ–‡æœ¬ä¸­çš„é«˜äº®å®ä½“æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
                    </div>
                </div>
            </div>

            <div class="highlight-box mt-4">
                <h3 class="text-xl font-bold text-green-300 mb-3">NER çš„ä¸»è¦æ–¹æ³•</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-black/30 p-4 rounded-lg">
                        <div class="font-bold text-blue-400 mb-2">åŸºäºè§„åˆ™çš„æ–¹æ³•</div>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li>â€¢ ä½¿ç”¨è¯å…¸å’Œæ­£åˆ™è¡¨è¾¾å¼</li>
                            <li>â€¢ ä¼˜ç‚¹: å‡†ç¡®ç‡é«˜ï¼Œå¯è§£é‡Šæ€§å¼º</li>
                            <li>â€¢ ç¼ºç‚¹: è¦†ç›–ç‡ä½ï¼Œç»´æŠ¤æˆæœ¬é«˜</li>
                        </ul>
                    </div>
                    <div class="bg-black/30 p-4 rounded-lg">
                        <div class="font-bold text-purple-400 mb-2">åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•</div>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li>â€¢ ä½¿ç”¨BERTã€BiLSTM-CRFç­‰æ¨¡å‹</li>
                            <li>â€¢ ä¼˜ç‚¹: æ³›åŒ–èƒ½åŠ›å¼ºï¼Œç«¯åˆ°ç«¯è®­ç»ƒ</li>
                            <li>â€¢ ç¼ºç‚¹: éœ€è¦å¤§é‡æ ‡æ³¨æ•°æ®</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chapter 4: å®ä½“é“¾æ¥å’Œæ¶ˆæ­§ -->
        <div class="glass-card">
            <h2 class="section-title">4. å®ä½“é“¾æ¥å’Œæ¶ˆæ­§</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ä»€ä¹ˆæ˜¯å®ä½“é“¾æ¥?</h3>
                <p class="text-gray-300 leading-relaxed mb-3">
                    <strong>å®ä½“é“¾æ¥</strong> (Entity Linking) æ˜¯å°†æ–‡æœ¬ä¸­è¯†åˆ«çš„å®ä½“æ˜ å°„åˆ°<strong>çŸ¥è¯†åº“ä¸­çš„å”¯ä¸€å®ä½“</strong>çš„è¿‡ç¨‹ã€‚
                </p>
                <p class="text-gray-400">
                    <strong>å®ä½“æ¶ˆæ­§</strong> (Entity Disambiguation) æ˜¯è§£å†³åŒåå®ä½“çš„æ­§ä¹‰é—®é¢˜ï¼Œä¾‹å¦‚"è‹¹æœ"æ˜¯æŒ‡æ°´æœè¿˜æ˜¯å…¬å¸ã€‚
                </p>
            </div>

            <div class="animation-container">
                <div class="animation-title">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                    </svg>
                    åŠ¨ç”»: å®ä½“é“¾æ¥è¿‡ç¨‹
                </div>
                <div id="entity-linking-animation" class="animation-canvas"></div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="playEntityLinking()">â–¶ æ’­æ”¾åŠ¨ç”»</button>
                    <button class="btn btn-secondary" onclick="resetEntityLinking()">â†º é‡ç½®</button>
                    <button class="btn btn-secondary" onclick="showDisambiguation()">â“ æ˜¾ç¤ºæ¶ˆæ­§</button>
                </div>
                <div id="entity-linking-info" class="info-panel">
                    <div class="text-yellow-400 font-bold mb-2">å®ä½“é“¾æ¥è¯´æ˜:</div>
                    <div id="entity-linking-description" class="text-gray-300">
                        ç‚¹å‡»"æ’­æ”¾åŠ¨ç”»"æŸ¥çœ‹å®ä½“å¦‚ä½•é“¾æ¥åˆ°çŸ¥è¯†åº“
                    </div>
                </div>
            </div>

            <div class="highlight-box mt-4">
                <h3 class="text-xl font-bold text-green-300 mb-3">å®ä½“é“¾æ¥çš„æŒ‘æˆ˜</h3>
                <ul class="text-gray-300 space-y-2 text-sm">
                    <li>ğŸ” <strong>æ­§ä¹‰æ€§</strong>: åŒåä¸åŒå®ä½“ï¼ˆå¦‚"è‹¹æœ"ï¼‰</li>
                    <li>ğŸ†• <strong>æ–°å®ä½“</strong>: çŸ¥è¯†åº“ä¸­ä¸å­˜åœ¨çš„å®ä½“</li>
                    <li>ğŸ“ <strong>å˜ä½“</strong>: åŒä¸€å®ä½“çš„ä¸åŒè¡¨è¿°ï¼ˆå¦‚"é©¬æ–¯å…‹"ã€"Elon Musk"ï¼‰</li>
                    <li>ğŸŒ <strong>è·¨è¯­è¨€</strong>: å¤šè¯­è¨€å®ä½“é“¾æ¥</li>
                </ul>
            </div>
        </div>

        <!-- Chapter 5: çŸ¥è¯†å›¾è°±æ„å»ºæµç¨‹ -->
        <div class="glass-card">
            <h2 class="section-title">5. çŸ¥è¯†å›¾è°±æ„å»ºæµç¨‹</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">å®Œæ•´çš„æ„å»ºæµç¨‹</h3>
                <p class="text-gray-300 leading-relaxed">
                    ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªçŸ¥è¯†å›¾è°±éœ€è¦ç»è¿‡å¤šä¸ªæ­¥éª¤ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰å…¶ç‹¬ç‰¹çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚
                </p>
            </div>

            <div class="animation-container">
                <div class="animation-title">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    åŠ¨ç”»: çŸ¥è¯†å›¾è°±æ„å»ºåˆ†æ­¥éª¤æµç¨‹
                </div>
                <div id="kg-build-animation" class="animation-canvas"></div>
                <div class="controls">
                    <button class="btn btn-primary" onclick="playKGBuildFlow()">â–¶ æ’­æ”¾æ„å»ºæµç¨‹</button>
                    <button class="btn btn-secondary" onclick="resetKGBuildFlow()">â†º é‡ç½®</button>
                </div>
                <div id="kg-build-info" class="info-panel">
                    <div class="text-yellow-400 font-bold mb-2">æ„å»ºæ­¥éª¤:</div>
                    <div id="kg-build-description" class="text-gray-300">
                        ç‚¹å‡»"æ’­æ”¾æ„å»ºæµç¨‹"æŸ¥çœ‹å®Œæ•´çš„çŸ¥è¯†å›¾è°±æ„å»ºè¿‡ç¨‹
                    </div>
                </div>
            </div>

            <div class="highlight-box mt-4">
                <h3 class="text-xl font-bold text-green-300 mb-3">æ„å»ºæ–¹å¼å¯¹æ¯”</h3>
                <table class="result-table text-sm">
                    <thead>
                        <tr>
                            <th>æ–¹å¼</th>
                            <th>ä¼˜ç‚¹</th>
                            <th>ç¼ºç‚¹</th>
                            <th>é€‚ç”¨åœºæ™¯</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-300">
                        <tr>
                            <td><strong>è‡ªé¡¶å‘ä¸‹</strong></td>
                            <td>è´¨é‡é«˜ï¼Œç»“æ„æ¸…æ™°</td>
                            <td>æˆæœ¬é«˜ï¼Œçµæ´»æ€§å·®</td>
                            <td>ç‰¹å®šé¢†åŸŸï¼Œé«˜è´¨é‡éœ€æ±‚</td>
                        </tr>
                        <tr>
                            <td><strong>è‡ªåº•å‘ä¸Š</strong></td>
                            <td>æˆæœ¬ä½ï¼Œè¦†ç›–å¹¿</td>
                            <td>è´¨é‡å‚å·®ä¸é½</td>
                            <td>å¼€æ”¾åŸŸçŸ¥è¯†å›¾è°±</td>
                        </tr>
                        <tr>
                            <td><strong>æ··åˆæ–¹å¼</strong></td>
                            <td>å¹³è¡¡è´¨é‡å’Œæˆæœ¬</td>
                            <td>å®ç°å¤æ‚</td>
                            <td>å¤§å¤šæ•°å®é™…åº”ç”¨</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Chapter 6: å®é™…åº”ç”¨ç¤ºä¾‹ -->
        <div class="glass-card">
            <h2 class="section-title">6. å®é™…åº”ç”¨ç¤ºä¾‹</h2>

            <div class="concept-card">
                <h3 class="text-xl font-bold text-blue-300 mb-3">ä»æ–°é—»æ„å»ºçŸ¥è¯†å›¾è°±</h3>
                <p class="text-gray-300 leading-relaxed">
                    ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä»æ–°é—»æ–‡æœ¬ä¸­æŠ½å–çŸ¥è¯†å¹¶æ„å»ºå›¾è°±ã€‚
                </p>
            </div>

            <div class="space-y-4">
                <!-- ç¤ºä¾‹ 1 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-blue-500">
                    <h4 class="text-lg font-bold text-blue-400 mb-2">æ­¥éª¤ 1: æ•°æ®æ”¶é›†</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        ä»æ–°é—»ç½‘ç«™çˆ¬å–ç›¸å…³æ–‡ç« ï¼Œæˆ–ä½¿ç”¨å·²æœ‰çš„æ–°é—»æ•°æ®é›†ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">import requests</div>
                        <div class="text-green-400">from bs4 import BeautifulSoup</div>
                        <div class="text-green-400">url = "https://news.example.com/article/12345"</div>
                        <div class="text-green-400">response = requests.get(url)</div>
                        <div class="text-green-400">soup = BeautifulSoup(response.text, 'html.parser')</div>
                        <div class="text-green-400">text = soup.find('div', class_='article-content').text</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 2 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-green-500">
                    <h4 class="text-lg font-bold text-green-400 mb-2">æ­¥éª¤ 2: å‘½åå®ä½“è¯†åˆ«</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        ä½¿ç”¨NERæ¨¡å‹è¯†åˆ«æ–‡æœ¬ä¸­çš„å®ä½“ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">from transformers import pipeline</div>
                        <div class="text-green-400">ner = pipeline("ner", aggregation_strategy="simple")</div>
                        <div class="text-green-400">entities = ner(text)</div>
                        <div class="text-gray-400"># è¾“å‡º: [{'entity_group': 'PER', 'word': 'åŸƒéš†Â·é©¬æ–¯å…‹', ...}, ...]</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 3 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-purple-500">
                    <h4 class="text-lg font-bold text-purple-400 mb-2">æ­¥éª¤ 3: å…³ç³»æŠ½å–</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        è¯†åˆ«å®ä½“ä¹‹é—´çš„å…³ç³»ï¼Œå½¢æˆä¸‰å…ƒç»„ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400"># ä½¿ç”¨é¢„è®­ç»ƒçš„å…³ç³»æŠ½å–æ¨¡å‹</div>
                        <div class="text-green-400">re_model = pipeline("relation-extraction")</div>
                        <div class="text-green-400">triples = re_model(text)</div>
                        <div class="text-gray-400"># è¾“å‡º: [(åŸƒéš†Â·é©¬æ–¯å…‹, CEO_of, ç‰¹æ–¯æ‹‰), ...]</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 4 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-yellow-500">
                    <h4 class="text-lg font-bold text-yellow-400 mb-2">æ­¥éª¤ 4: å®ä½“é“¾æ¥</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        å°†å®ä½“é“¾æ¥åˆ°çŸ¥è¯†åº“ï¼ˆå¦‚Wikidataï¼‰ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">from requests import get</div>
                        <div class="text-green-400">def link_entity(entity_name):</div>
                        <div class="text-green-400 ml-4">url = f"https://www.wikidata.org/w/api.php?action=wbsearchentities&search={entity_name}&language=zh"</div>
                        <div class="text-green-400 ml-4">response = get(url).json()</div>
                        <div class="text-green-400 ml-4">return response['search'][0]['id'] if response['search'] else None</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 5 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-pink-500">
                    <h4 class="text-lg font-bold text-pink-400 mb-2">æ­¥éª¤ 5: å­˜å‚¨åˆ°å›¾æ•°æ®åº“</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        å°†ä¸‰å…ƒç»„å­˜å‚¨åˆ°Neo4jæˆ–å…¶ä»–å›¾æ•°æ®åº“ã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400">from neo4j import GraphDatabase</div>
                        <div class="text-green-400">driver = GraphDatabase.driver("bolt://localhost:7687")</div>
                        <div class="text-green-400">with driver.session() as session:</div>
                        <div class="text-green-400 ml-4">for subj, pred, obj in triples:</div>
                        <div class="text-green-400 ml-8">session.run("MERGE (a:Entity {name: $subj}) MERGE (b:Entity {name: $obj}) MERGE (a)-[r:REL {type: $pred}]->(b)",</div>
                        <div class="text-green-400 ml-12">subj=subj, pred=pred, obj=obj)</div>
                    </div>
                </div>

                <!-- ç¤ºä¾‹ 6 -->
                <div class="bg-black/30 p-4 rounded-lg border-l-4 border-cyan-500">
                    <h4 class="text-lg font-bold text-cyan-400 mb-2">æ­¥éª¤ 6: çŸ¥è¯†å›¾è°±åº”ç”¨</h4>
                    <p class="text-gray-300 text-sm mb-3">
                        ä½¿ç”¨æ„å»ºå¥½çš„çŸ¥è¯†å›¾è°±è¿›è¡ŒæŸ¥è¯¢å’Œåˆ†æã€‚
                    </p>
                    <div class="code-block text-sm">
                        <div class="text-green-400"># æŸ¥è¯¢: å“ªäº›å…¬å¸çš„CEOæ˜¯åŸƒéš†Â·é©¬æ–¯å…‹?</div>
                        <div class="text-green-400">result = session.run("MATCH (p:Person {name: 'åŸƒéš†Â·é©¬æ–¯å…‹'})-[:CEO_of]->(c:Company) RETURN c.name")</div>
                        <div class="text-green-400">print([record["c.name"] for record in result])</div>
                        <div class="text-gray-400"># è¾“å‡º: ['ç‰¹æ–¯æ‹‰', 'SpaceX']</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="glass-card">
            <h2 class="section-title">æ¨¡å—æ€»ç»“</h2>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="concept-card">
                    <h3 class="text-xl font-bold text-green-400 mb-3">æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>ğŸ“ <strong>ä¿¡æ¯æŠ½å–</strong>: ä»éç»“æ„åŒ–æ–‡æœ¬æå–ç»“æ„åŒ–çŸ¥è¯†</li>
                        <li>ğŸ·ï¸ <strong>NER</strong>: è¯†åˆ«å‘½åå®ä½“ï¼ˆäººåã€åœ°åã€æœºæ„åç­‰ï¼‰</li>
                        <li>ğŸ”— <strong>å…³ç³»æŠ½å–</strong>: è¯†åˆ«å®ä½“ä¹‹é—´çš„å…³ç³»</li>
                        <li>ğŸ¯ <strong>å®ä½“é“¾æ¥</strong>: å°†å®ä½“æ˜ å°„åˆ°çŸ¥è¯†åº“</li>
                        <li>ğŸ—ï¸ <strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>: ä»æ•°æ®åˆ°å›¾è°±çš„å®Œæ•´æµç¨‹</li>
                    </ul>
                </div>
                <div class="concept-card">
                    <h3 class="text-xl font-bold text-blue-400 mb-3">å®è·µå»ºè®®</h3>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li>âœ… ä»ç®€å•çš„è§„åˆ™æ–¹æ³•å¼€å§‹ï¼Œé€æ­¥è½¬å‘æ·±åº¦å­¦ä¹ </li>
                        <li>âœ… ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚BERTï¼‰æé«˜å‡†ç¡®ç‡</li>
                        <li>âœ… é‡è§†æ•°æ®è´¨é‡ï¼Œå®šæœŸè¿›è¡Œæ•°æ®æ¸…æ´—</li>
                        <li>âœ… å»ºç«‹äººå·¥å®¡æ ¸æœºåˆ¶ï¼ŒéªŒè¯æŠ½å–ç»“æœ</li>
                        <li>âœ… æŒç»­è¿­ä»£ä¼˜åŒ–æ¨¡å‹å’Œè§„åˆ™</li>
                    </ul>
                </div>
            </div>
            <div class="highlight-box mt-6">
                <h3 class="text-xl font-bold text-purple-400 mb-3">ä¸‹ä¸€æ­¥å­¦ä¹ </h3>
                <p class="text-gray-300 mb-3">
                    æŒæ¡äº†çŸ¥è¯†æŠ½å–æŠ€æœ¯åï¼Œå»ºè®®ç»§ç»­å­¦ä¹ :
                </p>
                <a href="29-graph-algorithms.html" class="text-blue-400 hover:text-blue-300 transition-colors inline-flex items-center gap-2">
                    æ¨¡å— 29: å›¾ç®—æ³• - å­¦ä¹ å›¾çš„éå†ã€æœ€çŸ­è·¯å¾„ã€PageRankç­‰ç®—æ³•
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                    </svg>
                </a>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center py-8 text-gray-500 text-sm">
            <p>çŸ¥è¯†å›¾è°±å­¦ä¹ å¹³å° Â· æ¨¡å— 28: çŸ¥è¯†æŠ½å–ä¸æ„å»º</p>
        </div>
    </div>

    <script>
        // ============================================================
        // åŠ¨ç”» 1: ä¿¡æ¯æŠ½å–æµç¨‹
        // ============================================================
        let extractionFlowSvg;
        let extractionStep = 0;
        const extractionSteps = [
            { text: "åŸå§‹æ–‡æœ¬", description: "è¾“å…¥éç»“æ„åŒ–çš„æ–°é—»ã€è®ºæ–‡ç­‰æ–‡æœ¬" },
            { text: "å¥å­åˆ†å‰²", description: "å°†æ–‡æœ¬åˆ‡åˆ†æˆå¥å­ï¼Œä¾¿äºå¤„ç†" },
            { text: "è¯æ€§æ ‡æ³¨", description: "æ ‡æ³¨æ¯ä¸ªè¯çš„è¯æ€§ï¼ˆåè¯ã€åŠ¨è¯ç­‰ï¼‰" },
            { text: "å‘½åå®ä½“è¯†åˆ« (NER)", description: "è¯†åˆ«äººåã€åœ°åã€æœºæ„åç­‰å®ä½“" },
            { text: "å…³ç³»æŠ½å–", description: "è¯†åˆ«å®ä½“ä¹‹é—´çš„è¯­ä¹‰å…³ç³»" },
            { text: "å®ä½“é“¾æ¥", description: "å°†å®ä½“é“¾æ¥åˆ°çŸ¥è¯†åº“ä¸­çš„å”¯ä¸€å®ä½“" },
            { text: "ä¸‰å…ƒç»„ç”Ÿæˆ", description: "ç”Ÿæˆ (ä¸»è¯­, è°“è¯­, å®¾è¯­) ä¸‰å…ƒç»„" },
            { text: "çŸ¥è¯†å›¾è°±", description: "å­˜å‚¨åˆ°å›¾æ•°æ®åº“ï¼Œå½¢æˆçŸ¥è¯†å›¾è°±" }
        ];

        function initExtractionFlowAnimation() {
            const container = document.getElementById("extraction-flow-animation");
            container.innerHTML = "";
            const width = container.clientWidth;
            const height = 400;

            extractionFlowSvg = d3.select("#extraction-flow-animation")
                .append("svg")
                .attr("width", width)
                .attr("height", height);

            extractionFlowSvg.append("text")
                .attr("x", width / 2)
                .attr("y", height / 2)
                .attr("text-anchor", "middle")
                .attr("fill", "#6b7280")
                .attr("font-size", "14px")
                .text("ç‚¹å‡»\"æ’­æ”¾æµç¨‹\"æŸ¥çœ‹ä¿¡æ¯æŠ½å–çš„å®Œæ•´æµç¨‹");
        }

        function playExtractionFlow() {
            if (!extractionFlowSvg) {
                initExtractionFlowAnimation();
            }
            extractionFlowSvg.selectAll("*").remove();
            extractionStep = 0;

            const width = extractionFlowSvg.attr("width");
            const height = 400;

            // ç»˜åˆ¶æµç¨‹æ­¥éª¤
            const positions = [];
            const centerX = width / 2;
            const centerY = height / 2;
            const radius = 120;

            extractionSteps.forEach((step, i) => {
                const angle = (i / extractionSteps.length) * 2 * Math.PI - Math.PI / 2;
                positions.push({
                    x: centerX + radius * Math.cos(angle),
                    y: centerY + radius * Math.sin(angle)
                });
            });

            positions.forEach((pos, i) => {
                setTimeout(() => {
                    const g = extractionFlowSvg.append("g")
                        .attr("transform", `translate(${pos.x}, ${pos.y})`)
                        .style("opacity", 0);

                    // èŠ‚ç‚¹åœ†
                    g.append("circle")
                        .attr("r", 35)
                        .attr("fill", i < 3 ? "#3b82f6" : i < 6 ? "#22c55e" : "#8b5cf6")
                        .attr("opacity", 0.6);

                    // æ­¥éª¤ç¼–å·
                    g.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", -15)
                        .attr("fill", "white")
                        .attr("font-size", "12px")
                        .attr("font-weight", "bold")
                        .text(`${i + 1}`);

                    // æ­¥éª¤åç§°
                    g.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", 5)
                        .attr("fill", "white")
                        .attr("font-size", "10px")
                        .text(step.text.length > 6 ? step.text.substring(0, 6) + "..." : step.text);

                    g.transition()
                        .duration(500)
                        .style("opacity", 1);

                    // ç»˜åˆ¶ç®­å¤´åˆ°ä¸‹ä¸€æ­¥
                    if (i < positions.length - 1) {
                        setTimeout(() => {
                            extractionFlowSvg.insert("line", ":first-child")
                                .attr("x1", pos.x)
                                .attr("y1", pos.y)
                                .attr("x2", positions[i + 1].x)
                                .attr("y2", positions[i + 1].y)
                                .attr("stroke", "#60a5fa")
                                .attr("stroke-width", 2)
                                .attr("marker-end", "url(#arrow)")
                                .attr("opacity", 0)
                                .transition()
                                .duration(500)
                                .attr("opacity", 1);
                        }, 300);

                        // æ›´æ–°è¯´æ˜
                        document.getElementById("extraction-flow-description").innerHTML =
                            `<strong>æ­¥éª¤ ${i + 1}: ${extractionSteps[i].text}</strong><br>${extractionSteps[i].description}`;
                    }

                }, i * 1000);
            });
        }

        function resetExtractionFlow() {
            initExtractionFlowAnimation();
            extractionStep = 0;
            document.getElementById("extraction-flow-description").innerHTML = "ç‚¹å‡»\"æ’­æ”¾æµç¨‹\"æŸ¥çœ‹ä¿¡æ¯æŠ½å–çš„å®Œæ•´æµç¨‹";
        }

        function showNextStep() {
            extractionStep = (extractionStep + 1) % extractionSteps.length;
            const step = extractionSteps[extractionStep];
            document.getElementById("extraction-flow-description").innerHTML =
                `<strong>æ­¥éª¤ ${extractionStep + 1}: ${step.text}</strong><br>${step.description}`;
        }

        // ============================================================
        // NER äº¤äº’æ¼”ç¤º
        // ============================================================
        function showEntityInfo(element, type, name) {
            const infoPanel = document.getElementById("ner-info");
            const descriptions = {
                "PERSON": "äººç‰©: æŒ‡äººåï¼ŒåŒ…æ‹¬çœŸå®äººç‰©å’Œè™šæ„äººç‰©",
                "ORG": "ç»„ç»‡: æŒ‡å…¬å¸ã€æœºæ„ã€ç»„ç»‡ç­‰",
                "LOCATION": "åœ°ç‚¹: æŒ‡åœ°ç†ä½ç½®ï¼ŒåŒ…æ‹¬å›½å®¶ã€åŸå¸‚ã€åœ°åŒºç­‰",
                "DATE": "æ—¥æœŸ: æŒ‡æ—¶é—´ã€æ—¥æœŸç­‰æ—¶é—´å®ä½“"
            };

            infoPanel.innerHTML = `
                <div class="text-${type === 'PERSON' ? 'blue' : type === 'ORG' ? 'purple' : type === 'LOCATION' ? 'green' : 'yellow'}-400 font-bold mb-2">
                    ${name} (${type})
                </div>
                <div class="text-sm text-gray-300">${descriptions[type]}</div>
            `;
        }

        function highlightEntities() {
            alert("å®ä½“å·²ç»é«˜äº®æ˜¾ç¤ºï¼ç‚¹å‡»å®ä½“æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚");
        }

        const textOptions = [
            `<span class="ner-highlight ner-person" onclick="showEntityInfo(this, 'PERSON', 'äººç‰©')">åŸƒéš†Â·é©¬æ–¯å…‹</span>
             åœ¨<span class="ner-highlight ner-date" onclick="showEntityInfo(this, 'DATE', 'æ—¥æœŸ')">2003å¹´</span>åˆ›ç«‹äº†
             <span class="ner-highlight ner-organization" onclick="showEntityInfo(this, 'ORG', 'ç»„ç»‡')">ç‰¹æ–¯æ‹‰å…¬å¸</span>ï¼Œ
             è¯¥å…¬å¸ä½äº<span class="ner-highlight ner-location" onclick="showEntityInfo(this, 'LOCATION', 'åœ°ç‚¹')">ç¾å›½åŠ åˆ©ç¦å°¼äºšå·</span>ã€‚`,
            `<span class="ner-highlight ner-person" onclick="showEntityInfo(this, 'PERSON', 'äººç‰©')">é©¬å…‹Â·æ‰å…‹ä¼¯æ ¼</span>
             åœ¨<span class="ner-highlight ner-date" onclick="showEntityInfo(this, 'DATE', 'æ—¥æœŸ')">2004å¹´</span>åˆ›ç«‹äº†
             <span class="ner-highlight ner-organization" onclick="showEntityInfo(this, 'ORG', 'ç»„ç»‡')">Facebook</span>ï¼Œ
             æ€»éƒ¨ä½äº<span class="ner-highlight ner-location" onclick="showEntityInfo(this, 'LOCATION', 'åœ°ç‚¹')">åŠ åˆ©ç¦å°¼äºšå·é—¨æ´›å¸•å…‹</span>ã€‚`
        ];

        let currentTextIndex = 0;

        function loadNewText() {
            currentTextIndex = (currentTextIndex + 1) % textOptions.length;
            document.getElementById("ner-text").innerHTML = textOptions[currentTextIndex];
            document.getElementById("ner-info").innerHTML = `
                <div class="text-yellow-400 font-bold mb-2">å®ä½“ç±»å‹è¯´æ˜:</div>
                <div class="text-sm text-gray-300">ç‚¹å‡»æ–‡æœ¬ä¸­çš„é«˜äº®å®ä½“æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</div>
            `;
        }

        function extractTriples() {
            alert("åœ¨çœŸå®åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šæå–ä¸‰å…ƒç»„ï¼š(åŸƒéš†Â·é©¬æ–¯å…‹, åˆ›ç«‹, ç‰¹æ–¯æ‹‰), (ç‰¹æ–¯æ‹‰, ä½äº, åŠ åˆ©ç¦å°¼äºšå·)");
        }

        // ============================================================
        // åŠ¨ç”» 2: å®ä½“é“¾æ¥
        // ============================================================
        let entityLinkingSvg;

        function initEntityLinkingAnimation() {
            const container = document.getElementById("entity-linking-animation");
            container.innerHTML = "";
            const width = container.clientWidth;
            const height = 400;

            entityLinkingSvg = d3.select("#entity-linking-animation")
                .append("svg")
                .attr("width", width)
                .attr("height", height);

            entityLinkingSvg.append("text")
                .attr("x", width / 2)
                .attr("y", height / 2)
                .attr("text-anchor", "middle")
                .attr("fill", "#6b7280")
                .attr("font-size", "14px")
                .text("ç‚¹å‡»\"æ’­æ”¾åŠ¨ç”»\"æŸ¥çœ‹å®ä½“é“¾æ¥è¿‡ç¨‹");
        }

        function playEntityLinking() {
            if (!entityLinkingSvg) {
                initEntityLinkingAnimation();
            }
            entityLinkingSvg.selectAll("*").remove();

            const width = entityLinkingSvg.attr("width");
            const height = 400;

            // æ–‡æœ¬ä¸­çš„å®ä½“
            const textEntity = { name: "é©¬æ–¯å…‹", x: width * 0.25, y: height / 2 };

            // çŸ¥è¯†åº“ä¸­çš„å€™é€‰å®ä½“
            const candidates = [
                { name: "åŸƒéš†Â·é©¬æ–¯å…‹", id: "Q317521", x: width * 0.7, y: height * 0.3, match: true },
                { name: "é‡‘Â·é©¬æ–¯å…‹", id: "Q2477481", x: width * 0.7, y: height * 0.5, match: false },
                { name: "é©¬æ–¯å…‹ (å§“æ°)", id: "Q214442", x: width * 0.7, y: height * 0.7, match: false }
            ];

            // ç»˜åˆ¶æ–‡æœ¬å®ä½“
            const textGroup = entityLinkingSvg.append("g")
                .attr("transform", `translate(${textEntity.x}, ${textEntity.y})`)
                .style("opacity", 0);

            textGroup.append("circle")
                .attr("r", 40)
                .attr("fill", "#3b82f6")
                .attr("opacity", 0.6);

            textGroup.append("text")
                .attr("text-anchor", "middle")
                .attr("dy", 5)
                .attr("fill", "white")
                .attr("font-size", "12px")
                .attr("font-weight", "bold")
                .text(textEntity.name);

            textGroup.append("text")
                .attr("text-anchor", "middle")
                .attr("dy", 60)
                .attr("fill", "#9ca3af")
                .attr("font-size", "10px")
                .text("æ–‡æœ¬å®ä½“");

            textGroup.transition()
                .duration(500)
                .style("opacity", 1);

            // ç»˜åˆ¶å€™é€‰å®ä½“
            setTimeout(() => {
                candidates.forEach((candidate, i) => {
                    setTimeout(() => {
                        const g = entityLinkingSvg.append("g")
                            .attr("transform", `translate(${candidate.x}, ${candidate.y})`)
                            .style("opacity", 0);

                        g.append("rect")
                            .attr("x", -60)
                            .attr("y", -25)
                            .attr("width", 120)
                            .attr("height", 50)
                            .attr("rx", 8)
                            .attr("fill", candidate.match ? "#22c55e" : "#6b7280")
                            .attr("opacity", 0.3);

                        g.append("text")
                            .attr("text-anchor", "middle")
                            .attr("dy", -5)
                            .attr("fill", "white")
                            .attr("font-size", "11px")
                            .attr("font-weight", "bold")
                            .text(candidate.name);

                        g.append("text")
                            .attr("text-anchor", "middle")
                            .attr("dy", 15)
                            .attr("fill", "#9ca3af")
                            .attr("font-size", "9px")
                            .text(`ID: ${candidate.id}`);

                        g.transition()
                            .duration(500)
                            .style("opacity", 1);

                        // ç»˜åˆ¶è¿æ¥çº¿
                        if (candidate.match) {
                            setTimeout(() => {
                                entityLinkingSvg.insert("line", ":first-child")
                                    .attr("x1", textEntity.x)
                                    .attr("y1", textEntity.y)
                                    .attr("x2", candidate.x - 60)
                                    .attr("y2", candidate.y)
                                    .attr("stroke", "#22c55e")
                                    .attr("stroke-width", 3)
                                    .attr("stroke-dasharray", "5,5")
                                    .attr("opacity", 0)
                                    .transition()
                                    .duration(500)
                                    .attr("opacity", 1);

                                document.getElementById("entity-linking-description").innerHTML =
                                    `<strong>å®ä½“é“¾æ¥æˆåŠŸ!</strong><br>æ–‡æœ¬å®ä½“ "é©¬æ–¯å…‹" é“¾æ¥åˆ°çŸ¥è¯†åº“å®ä½“ Q317521 (åŸƒéš†Â·é©¬æ–¯å…‹)`;
                            }, 600);
                        }
                    }, i * 300);
                });
            }, 600);
        }

        function resetEntityLinking() {
            initEntityLinkingAnimation();
            document.getElementById("entity-linking-description").innerHTML = "ç‚¹å‡»\"æ’­æ”¾åŠ¨ç”»\"æŸ¥çœ‹å®ä½“å¦‚ä½•é“¾æ¥åˆ°çŸ¥è¯†åº“";
        }

        function showDisambiguation() {
            alert("æ¶ˆæ­§ç¤ºä¾‹: 'è‹¹æœ' å¯ä»¥æŒ‡æ°´æœæˆ–å…¬å¸ï¼Œéœ€è¦æ ¹æ®ä¸Šä¸‹æ–‡åˆ¤æ–­ã€‚åœ¨å¥å­ 'è‹¹æœå‘å¸ƒæ–°iPhone' ä¸­ï¼Œ'è‹¹æœ' æŒ‡çš„æ˜¯ Apple å…¬å¸ã€‚");
        }

        // ============================================================
        // åŠ¨ç”» 3: çŸ¥è¯†å›¾è°±æ„å»ºæµç¨‹
        // ============================================================
        let kgBuildSvg;

        function initKGBuildAnimation() {
            const container = document.getElementById("kg-build-animation");
            container.innerHTML = "";
            const width = container.clientWidth;
            const height = 400;

            kgBuildSvg = d3.select("#kg-build-animation")
                .append("svg")
                .attr("width", width)
                .attr("height", height);

            kgBuildSvg.append("text")
                .attr("x", width / 2)
                .attr("y", height / 2)
                .attr("text-anchor", "middle")
                .attr("fill", "#6b7280")
                .attr("font-size", "14px")
                .text("ç‚¹å‡»\"æ’­æ”¾æ„å»ºæµç¨‹\"æŸ¥çœ‹å®Œæ•´çš„çŸ¥è¯†å›¾è°±æ„å»ºè¿‡ç¨‹");
        }

        function playKGBuildFlow() {
            if (!kgBuildSvg) {
                initKGBuildAnimation();
            }
            kgBuildSvg.selectAll("*").remove();

            const width = kgBuildSvg.attr("width");
            const height = 400;
            const steps = [
                { text: "1. æ•°æ®æ”¶é›†", x: width * 0.15, y: height * 0.3, color: "#3b82f6" },
                { text: "2. æœ¬ä½“è®¾è®¡", x: width * 0.38, y: height * 0.3, color: "#8b5cf6" },
                { text: "3. ä¿¡æ¯æŠ½å–", x: width * 0.61, y: height * 0.3, color: "#22c55e" },
                { text: "4. çŸ¥è¯†èåˆ", x: width * 0.84, y: height * 0.3, color: "#f59e0b" },
                { text: "5. è´¨é‡è¯„ä¼°", x: width * 0.27, y: height * 0.7, color: "#ec4899" },
                { text: "6. å›¾è°±å­˜å‚¨", x: width * 0.5, y: height * 0.7, color: "#06b6d4" },
                { text: "7. åº”ç”¨éƒ¨ç½²", x: width * 0.73, y: height * 0.7, color: "#84cc16" }
            ];

            const descriptions = [
                "æ­¥éª¤ 1: æ•°æ®æ”¶é›† - ä»å„ç§æ•°æ®æºæ”¶é›†æ–‡æœ¬ã€ç»“æ„åŒ–æ•°æ®ç­‰",
                "æ­¥éª¤ 2: æœ¬ä½“è®¾è®¡ - å®šä¹‰çŸ¥è¯†å›¾è°±çš„æ¨¡å¼å’Œç»“æ„",
                "æ­¥éª¤ 3: ä¿¡æ¯æŠ½å– - ä»æ–‡æœ¬ä¸­æŠ½å–å®ä½“ã€å…³ç³»å’Œå±æ€§",
                "æ­¥éª¤ 4: çŸ¥è¯†èåˆ - æ•´åˆå¤šæºçŸ¥è¯†ï¼Œè§£å†³å†²çª",
                "æ­¥éª¤ 5: è´¨é‡è¯„ä¼° - éªŒè¯çŸ¥è¯†çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§",
                "æ­¥éª¤ 6: å›¾è°±å­˜å‚¨ - å°†çŸ¥è¯†å­˜å‚¨åˆ°å›¾æ•°æ®åº“",
                "æ­¥éª¤ 7: åº”ç”¨éƒ¨ç½² - æä¾›æŸ¥è¯¢ã€æ¨ç†ç­‰æœåŠ¡"
            ];

            steps.forEach((step, i) => {
                setTimeout(() => {
                    const g = kgBuildSvg.append("g")
                        .attr("transform", `translate(${step.x}, ${step.y})`)
                        .style("opacity", 0);

                    // èŠ‚ç‚¹æ¡†
                    g.append("rect")
                        .attr("x", -55)
                        .attr("y", -25)
                        .attr("width", 110)
                        .attr("height", 50)
                        .attr("rx", 8)
                        .attr("fill", step.color)
                        .attr("opacity", 0.3);

                    // æ–‡æœ¬
                    g.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", 5)
                        .attr("fill", "white")
                        .attr("font-size", "11px")
                        .attr("font-weight", "bold")
                        .text(step.text);

                    g.transition()
                        .duration(500)
                        .style("opacity", 1);

                    // ç»˜åˆ¶ç®­å¤´åˆ°ä¸‹ä¸€æ­¥
                    if (i < steps.length - 1) {
                        setTimeout(() => {
                            kgBuildSvg.insert("line", ":first-child")
                                .attr("x1", step.x)
                                .attr("y1", step.y)
                                .attr("x2", steps[i + 1].x)
                                .attr("y2", steps[i + 1].y)
                                .attr("stroke", "#60a5fa")
                                .attr("stroke-width", 2)
                                .attr("marker-end", "url(#arrow)")
                                .attr("opacity", 0)
                                .transition()
                                .duration(500)
                                .attr("opacity", 1);
                        }, 300);

                        // æ›´æ–°è¯´æ˜
                        document.getElementById("kg-build-description").innerHTML = `<strong>${descriptions[i]}</strong>`;
                    }

                }, i * 1000);
            });
        }

        function resetKGBuildFlow() {
            initKGBuildAnimation();
            document.getElementById("kg-build-description").innerHTML = "ç‚¹å‡»\"æ’­æ”¾æ„å»ºæµç¨‹\"æŸ¥çœ‹å®Œæ•´çš„çŸ¥è¯†å›¾è°±æ„å»ºè¿‡ç¨‹";
        }

        // ============================================================
        // åˆå§‹åŒ–
        // ============================================================
        document.addEventListener("DOMContentLoaded", function() {
            initExtractionFlowAnimation();
            initEntityLinkingAnimation();
            initKGBuildAnimation();
        });
    </script>
</body>
</html>
