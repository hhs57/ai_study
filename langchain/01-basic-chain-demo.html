<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01 - åŸºç¡€é“¾ï¼šä»ç®€å•è°ƒç”¨åˆ°æ™ºèƒ½é“¾å¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
            min-height: 100vh;
            color: #e2e8f0;
            overflow-x: hidden;
            position: relative;
        }

        /* æµ®åŠ¨å…‰çƒ */
        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            pointer-events: none;
            z-index: 0;
            animation: float 20s ease-in-out infinite;
        }

        .orb-1 {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.1) 50%, transparent 70%);
            top: -200px;
            right: -200px;
        }

        .orb-2 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(236, 72, 153, 0.2) 0%, rgba(168, 85, 247, 0.1) 50%, transparent 70%);
            bottom: -150px;
            left: -150px;
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(30px, -30px) scale(1.1); }
            50% { transform: translate(-20px, 20px) scale(0.9); }
            75% { transform: translate(-30px, -20px) scale(1.05); }
        }

        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        /* å¤´éƒ¨ */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 1s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #a78bfa 0%, #60a5fa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 40px rgba(167, 139, 250, 0.3);
        }

        .header p {
            font-size: 1.3em;
            color: rgba(226, 232, 240, 0.8);
        }

        /* è¿›åº¦æ¡ */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1000;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6 0%, #a855f7 50%, #d946ef 100%);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* åœºæ™¯å®¹å™¨ */
        .scene {
            display: none;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .scene.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* åœºæ™¯æ ‡é¢˜ */
        .scene-title {
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
            background: linear-gradient(135deg, #a78bfa 0%, #60a5fa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* åŠ¨ç”»ç”»å¸ƒ */
        .canvas-container {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            min-height: 400px;
            position: relative;
            overflow: hidden;
        }

        /* é—®é¢˜å¯è§†åŒ– */
        .problem-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            padding: 40px;
            flex-wrap: wrap;
        }

        .problem-box {
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid rgba(239, 68, 68, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            min-width: 200px;
            transition: all 0.6s;
            transform: scale(0.8);
            opacity: 0;
        }

        .problem-box.visible {
            transform: scale(1);
            opacity: 1;
        }

        .problem-box:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.4);
        }

        .problem-box h4 {
            color: #ef4444;
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .problem-box p {
            color: rgba(226, 232, 240, 0.8);
            font-size: 0.9em;
        }

        .problem-arrow {
            font-size: 3em;
            color: #ef4444;
            opacity: 0;
            animation: pulse 1s ease-in-out infinite;
        }

        .problem-arrow.visible {
            opacity: 1;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        /* é“¾ç»„ä»¶å¯è§†åŒ– */
        .chain-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            padding: 40px;
            flex-wrap: wrap;
        }

        .chain-component {
            background: rgba(139, 92, 246, 0.2);
            border: 3px solid rgba(139, 92, 246, 0.5);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            min-width: 180px;
            transition: all 0.6s;
            transform: scale(0.8);
            opacity: 0;
            position: relative;
        }

        .chain-component.visible {
            transform: scale(1);
            opacity: 1;
        }

        .chain-component.active {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.4) 0%, rgba(99, 102, 241, 0.4) 100%);
            transform: scale(1.1);
            box-shadow: 0 0 40px rgba(139, 92, 246, 0.6);
            border-color: rgba(139, 92, 246, 0.8);
        }

        .chain-component h4 {
            color: #a78bfa;
            font-size: 1.4em;
            margin-bottom: 8px;
        }

        .chain-component p {
            color: rgba(226, 232, 240, 0.7);
            font-size: 0.9em;
        }

        .chain-component .icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .chain-connector {
            font-size: 2.5em;
            color: #8b5cf6;
            opacity: 0;
            font-weight: bold;
        }

        .chain-connector.visible {
            opacity: 1;
            animation: flow 1.5s ease-in-out infinite;
        }

        @keyframes flow {
            0%, 100% { transform: translateX(0); opacity: 0.5; }
            50% { transform: translateX(5px); opacity: 1; }
        }

        /* LCEL å¯è§†åŒ– */
        .lcel-demo {
            text-align: center;
            padding: 40px;
        }

        .lcel-code {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 15px;
            padding: 30px;
            font-family: 'JetBrains Mono', 'Consolas', monospace;
            font-size: 1.3em;
            display: inline-block;
            margin: 20px 0;
            position: relative;
        }

        .lcel-code .keyword {
            color: #c792ea;
            font-weight: bold;
        }

        .lcel-code .variable {
            color: #82aaff;
        }

        .lcel-code .operator {
            color: #ff79c6;
            font-size: 1.5em;
            font-weight: bold;
            padding: 0 15px;
        }

        .lcel-highlight {
            position: absolute;
            background: rgba(139, 92, 246, 0.3);
            border-radius: 5px;
            pointer-events: none;
            transition: all 0.5s;
        }

        /* äº¤äº’å¼æ¼”ç¤º */
        .demo-playground {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }

        .demo-input {
            width: 100%;
            max-width: 500px;
            margin: 0 auto 30px;
        }

        .demo-input label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #a78bfa;
            font-size: 1.1em;
        }

        .demo-input input {
            width: 100%;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            font-size: 16px;
            color: #e2e8f0;
            transition: all 0.3s;
        }

        .demo-input input:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
        }

        .demo-btn {
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 0 auto;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
        }

        .demo-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.6);
        }

        .demo-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .demo-output {
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 30px;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .demo-output.has-result {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-style: solid;
            border-color: rgba(34, 197, 94, 0.5);
        }

        /* æµç¨‹å›¾ */
        .flow-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 40px;
        }

        .flow-step {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px 30px;
            border-radius: 12px;
            border-left: 5px solid #8b5cf6;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.4s;
            position: relative;
            padding-left: 70px;
            min-width: 400px;
            opacity: 0;
            transform: translateX(-30px);
        }

        .flow-step.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .flow-step.active {
            border-left-color: #22c55e;
            background: linear-gradient(90deg, rgba(34, 197, 94, 0.2) 0%, rgba(255, 255, 255, 0.05) 100%);
            box-shadow: 0 8px 20px rgba(34, 197, 94, 0.4);
        }

        .flow-step .step-number {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        .flow-step.active .step-number {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        }

        .flow-arrow {
            text-align: center;
            font-size: 2em;
            color: #a78bfa;
            opacity: 0;
        }

        .flow-arrow.visible {
            opacity: 1;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* é«˜äº®æ¡† */
        .highlight-box {
            background: rgba(139, 92, 246, 0.15);
            border-left: 5px solid #8b5cf6;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
            animation: slideInRight 0.8s ease-out;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .highlight-box h3 {
            color: #a78bfa;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .highlight-box p {
            line-height: 1.8;
            color: rgba(226, 232, 240, 0.9);
        }

        /* ç‰¹æ€§ç½‘æ ¼ */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.6s;
        }

        .feature-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .feature-item:hover {
            background: rgba(139, 92, 246, 0.15);
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .feature-item h4 {
            color: #a78bfa;
            margin-bottom: 10px;
        }

        .feature-item p {
            color: rgba(226, 232, 240, 0.7);
            font-size: 0.9em;
            line-height: 1.6;
        }

        /* å¯¹æ¯”ç½‘æ ¼ */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .comparison-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.6s;
        }

        .comparison-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .comparison-card.no {
            border: 2px solid rgba(239, 68, 68, 0.3);
        }

        .comparison-card.yes {
            border: 2px solid rgba(34, 197, 94, 0.3);
        }

        .comparison-card h4 {
            font-size: 1.4em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .comparison-card.no h4 {
            color: #ef4444;
        }

        .comparison-card.yes h4 {
            color: #22c55e;
        }

        .mini-code {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            font-family: 'JetBrains Mono', 'Consolas', monospace;
            font-size: 0.85em;
            margin-top: 15px;
            line-height: 1.6;
        }

        .mini-code .keyword { color: #c792ea; }
        .mini-code .string { color: #c3e88d; }
        .mini-code .comment { color: #546e7a; }
        .mini-code .function { color: #82aaff; }

        /* å¯¼èˆªæŒ‰é’® */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            gap: 20px;
        }

        .nav-btn {
            padding: 15px 40px;
            background: rgba(139, 92, 246, 0.2);
            border: 2px solid rgba(139, 92, 246, 0.5);
            border-radius: 12px;
            color: #a78bfa;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn:hover:not(:disabled) {
            background: rgba(139, 92, 246, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(139, 92, 246, 0.4);
        }

        /* é’ˆå¯¹ a æ ‡ç­¾çš„å¯¼èˆªæŒ‰é’®æ ·å¼ */
        .nav-btn.back-to-list {
            text-decoration: none;
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.5);
            color: #60a5fa;
        }

        .nav-btn.back-to-list:hover {
            background: rgba(59, 130, 246, 0.4);
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .nav-btn.next {
            margin-left: auto;
        }

        /* åœºæ™¯æŒ‡ç¤ºå™¨ */
        .scene-indicators {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 40px 0;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .indicator.active {
            background: #8b5cf6;
            transform: scale(1.3);
        }

        .indicator:hover {
            transform: scale(1.2);
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .problem-visual,
            .chain-visual {
                flex-direction: column;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .flow-step {
                min-width: 100%;
            }
        }

        /* æ­¥éª¤åŠ¨ç”» */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* åŠ è½½ç‚¹åŠ¨ç”» */
        @keyframes loadingDots {
            0%, 20% {
                content: 'å¤„ç†ä¸­';
            }
            40% {
                content: 'å¤„ç†ä¸­.';
            }
            60% {
                content: 'å¤„ç†ä¸­..';
            }
            80%, 100% {
                content: 'å¤„ç†ä¸­...';
            }
        }

        .loading-dots::after {
            content: 'å¤„ç†ä¸­';
            animation: loadingDots 1.5s infinite;
        }
    
        /* æ ‡å‡†å¯¼èˆªæ ·å¼ */
        .nav-card {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 16px 24px;
            margin-bottom: 32px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .nav-card a {
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .nav-card a:hover {
            transform: translateY(-2px);
        }

        /* é¡¶éƒ¨å¯¼èˆªå¡ç‰‡ */
        .top-nav-card {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 16px 24px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .top-nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .top-nav-left,
        .top-nav-center,
        .top-nav-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .top-nav-link {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #9ca3af;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 0.95em;
        }

        .top-nav-link:hover {
            color: #e5e7eb;
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-2px);
        }

        .top-nav-link.home {
            color: #4ade80;
        }

        .top-nav-link.home:hover {
            color: #86efac;
        }

        .top-nav-link svg {
            width: 20px;
            height: 20px;
        }

        .top-nav-divider {
            width: 1px;
            height: 24px;
            background: rgba(255, 255, 255, 0.1);
        }

        .top-nav-text {
            color: #6b7280;
            font-size: 0.9em;
        }

        .top-nav-progress {
            color: #9ca3af;
            font-size: 0.9em;
            font-weight: 500;
        }
</style>
</head>
<body>
    <!-- æµ®åŠ¨å…‰çƒ -->
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>    <!-- é¡¶éƒ¨å¯¼èˆª - è·¨æ¨¡å— -->
    <div class="top-nav-card">
        <div class="top-nav-container">
            <div class="top-nav-left">
                <a href="index.html" class="top-nav-link home">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    è¿”å›LangChainç›®å½•
                </a>
            </div>
            <div class="top-nav-center">
                <a href="00-framework-introduction.html" class="top-nav-link">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                    </svg>
                    ä¸Šä¸€è¯¾
                </a>
                <div class="top-nav-divider"></div>
                <a href="02-prompt-template-demo.html" class="top-nav-link">
                    ä¸‹ä¸€è¯¾
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>
            <div class="top-nav-right">
                <span class="top-nav-progress">è¯¾ç¨‹ 1 / 20</span>
            </div>
        </div>
    </div>

    <!-- è¿›åº¦æ¡ -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>ğŸ”— åŸºç¡€é“¾ï¼šä»ç®€å•è°ƒç”¨åˆ°æ™ºèƒ½é“¾å¼</h1>
            <p>æŒæ¡ LangChain æœ€æ ¸å¿ƒçš„æ¦‚å¿µ - LCEL ç®¡é“æ“ä½œç¬¦</p>
        </div>

        <!-- åœºæ™¯ 1: ä¸ºä»€ä¹ˆéœ€è¦"é“¾" -->
        <div class="scene active" id="scene1">
            <h2 class="scene-title">ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦"é“¾"ï¼Ÿ</h2>

            <div class="canvas-container">
                <div class="problem-visual">
                    <div class="problem-box" data-delay="0">
                        <div style="font-size: 3em; margin-bottom: 10px;">âŒ</div>
                        <h4>ç¡¬ç¼–ç </h4>
                        <p>æç¤ºè¯å†™æ­»åœ¨ä»£ç é‡Œ</p>
                    </div>

                    <div class="problem-arrow" data-delay="300">â†’</div>

                    <div class="problem-box" data-delay="600">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ”„</div>
                        <h4>é‡å¤ä»£ç </h4>
                        <p>æ¯æ¬¡è°ƒç”¨éƒ½è¦å¤åˆ¶ç²˜è´´</p>
                    </div>

                    <div class="problem-arrow" data-delay="900">â†’</div>

                    <div class="problem-box" data-delay="1200">
                        <div style="font-size: 3em; margin-bottom: 10px;">ğŸ˜«</div>
                        <h4>éš¾ä»¥ç»´æŠ¤</h4>
                        <p>ä¿®æ”¹æç¤ºè¯éœ€è¦æ”¹æ‰€æœ‰åœ°æ–¹</p>
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <h3>ğŸ’¡ çœŸå®ç—›ç‚¹</h3>
                <p>
                    æƒ³è±¡ä¸€ä¸‹ï¼Œä½ éœ€è¦é—® LLM 100 ä¸ªä¸åŒçš„é—®é¢˜...<br><br>
                    <strong style="color: #ef4444;">âŒ æ²¡æœ‰é“¾ï¼š</strong>å†™ 100 éç›¸åŒçš„ä»£ç <br>
                    <strong style="color: #22c55e;">âœ… æœ‰é“¾ï¼š</strong>ä¸€æ¬¡å®šä¹‰ï¼Œ100 æ¬¡è°ƒç”¨<br><br>
                    è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦"é“¾"ï¼
                </p>
            </div>
        </div>

        <!-- åœºæ™¯ 2: åŸºç¡€é“¾çš„ç»„æˆ -->
        <div class="scene" id="scene2">
            <h2 class="scene-title">ğŸ§± åŸºç¡€é“¾çš„ä¸‰å¤§ç»„ä»¶</h2>

            <div class="canvas-container">
                <div class="chain-visual">
                    <div class="chain-component" data-delay="0">
                        <div class="icon">ğŸ“</div>
                        <h4>Prompt Template</h4>
                        <p>æç¤ºè¯æ¨¡æ¿<br>æ”¯æŒå˜é‡æ›¿æ¢</p>
                    </div>

                    <div class="chain-connector" data-delay="300">|</div>

                    <div class="chain-component" data-delay="600">
                        <div class="icon">ğŸ¤–</div>
                        <h4>LLM</h4>
                        <p>å¤§è¯­è¨€æ¨¡å‹<br>æ‰§è¡Œæ¨ç†</p>
                    </div>

                    <div class="chain-connector" data-delay="900">|</div>

                    <div class="chain-component" data-delay="1200">
                        <div class="icon">ğŸ“¤</div>
                        <h4>Output Parser</h4>
                        <p>è¾“å‡ºè§£æå™¨<br>æ ¼å¼åŒ–ç»“æœ</p>
                    </div>
                </div>
            </div>

            <div class="flow-diagram">
                <div class="flow-step" data-delay="0">
                    <span class="step-number">1</span>
                    <div>
                        <strong>Prompt Template</strong>
                        <p style="margin-top: 8px; color: rgba(226, 232, 240, 0.7);">
                            æ¥æ”¶è¾“å…¥ <code>{"topic": "Python"}</code>ï¼Œç”Ÿæˆæç¤ºè¯ï¼š"ç”¨ä¸€å¥è¯è§£é‡Šï¼šPython"
                        </p>
                    </div>
                </div>

                <div class="flow-arrow" data-delay="200">â†“</div>

                <div class="flow-step" data-delay="400">
                    <span class="step-number">2</span>
                    <div>
                        <strong>LLM</strong>
                        <p style="margin-top: 8px; color: rgba(226, 232, 240, 0.7);">
                            æ¥æ”¶æç¤ºè¯ï¼Œè°ƒç”¨å¤§æ¨¡å‹ç”Ÿæˆå›ç­”
                        </p>
                    </div>
                </div>

                <div class="flow-arrow" data-delay="600">â†“</div>

                <div class="flow-step" data-delay="800">
                    <span class="step-number">3</span>
                    <div>
                        <strong>Output Parser</strong>
                        <p style="margin-top: 8px; color: rgba(226, 232, 240, 0.7);">
                            å°† LLM è¿”å›çš„å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- åœºæ™¯ 3: LCEL ç®¡é“æ“ä½œç¬¦ -->
        <div class="scene" id="scene3">
            <h2 class="scene-title">âš¡ LCELï¼šé­”æ³•ç®¡é“æ“ä½œç¬¦</h2>

            <div class="canvas-container">
                <div class="lcel-demo">
                    <p style="margin-bottom: 20px; font-size: 1.2em;">ç”¨ <code style="color: #a78bfa;">|</code> ç¬¦å·ä¸²è”ç»„ä»¶ï¼Œç®€å•ä¼˜é›…ï¼</p>

                    <div class="lcel-code">
                        <span class="variable">chain</span>
                        <span class="keyword">=</span>
                        <span class="variable">prompt</span>
                        <span class="operator">|</span>
                        <span class="variable">llm</span>
                        <span class="operator">|</span>
                        <span class="variable">parser</span>
                    </div>

                    <div style="margin-top: 40px; display: flex; justify-content: center; gap: 40px; flex-wrap: wrap;">
                        <div style="text-align: left; opacity: 0; animation: fadeIn 0.5s ease-out 0.5s forwards;" class="anim-item">
                            <h4 style="color: #a78bfa; margin-bottom: 10px;">ğŸ“– è¯»ä½œ</h4>
                            <p style="color: rgba(226, 232, 240, 0.8); font-size: 1.1em;">
                                "prompt <strong style="color: #a78bfa;">ç„¶å</strong> llm <strong style="color: #a78bfa;">ç„¶å</strong> parser"
                            </p>
                        </div>

                        <div style="text-align: left; opacity: 0; animation: fadeIn 0.5s ease-out 1s forwards;" class="anim-item">
                            <h4 style="color: #a78bfa; margin-bottom: 10px;">ğŸ¯ å«ä¹‰</h4>
                            <p style="color: rgba(226, 232, 240, 0.8); font-size: 1.1em;">
                                æ•°æ®ä»å·¦åˆ°å³<strong style="color: #a78bfa;">ä¾æ¬¡æµåŠ¨</strong>
                            </p>
                        </div>

                        <div style="text-align: left; opacity: 0; animation: fadeIn 0.5s ease-out 1.5s forwards;" class="anim-item">
                            <h4 style="color: #a78bfa; margin-bottom: 10px;">âœ¨ ä¼˜åŠ¿</h4>
                            <p style="color: rgba(226, 232, 240, 0.8); font-size: 1.1em;">
                                ç®€æ´ã€ç›´è§‚ã€æ˜“ç»„åˆ
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <h3>ğŸ”¬ åº•å±‚åŸç†</h3>
                <p>
                    <code style="font-size: 1.1em;">prompt | llm | parser</code> å®é™…ä¸Šæ˜¯<br><br>
                    <code style="font-size: 1.1em;">prompt.invoke()</code> â†’ <code style="font-size: 1.1em;">llm.invoke()</code> â†’ <code style="font-size: 1.1em;">parser.invoke()</code><br><br>
                    æ¯ä¸ªç»„ä»¶çš„è¾“å‡ºè‡ªåŠ¨æˆä¸ºä¸‹ä¸€ä¸ªç»„ä»¶çš„è¾“å…¥ï¼Œè¿™å°±æ˜¯ LCEL çš„é­”æ³•ï¼
                </p>
            </div>
        </div>

        <!-- åœºæ™¯ 4: ç¬¬ä¸€ä¸ªé“¾ -->
        <div class="scene" id="scene4">
            <h2 class="scene-title">ğŸš€ åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªé“¾</h2>

            <div class="demo-playground">
                <div class="demo-input">
                    <label>ğŸ¯ è¾“å…¥ä¸€ä¸ªä¸»é¢˜ï¼š</label>
                    <input type="text" id="topicInput" value="Python" placeholder="ä¾‹å¦‚ï¼šPython, JavaScript, LangChain...">
                </div>

                <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="demo-btn" onclick="runChainDemo()">â–¶ï¸ æ‰§è¡Œé“¾</button>
                    <button class="demo-btn" id="resetBtn" onclick="resetDemo()" style="display: none; background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.5);">ğŸ”„ é‡ç½®æ¼”ç¤º</button>
                </div>

                <div class="demo-output" id="chainOutput">
                    <div style="text-align: center; padding: 40px; color: rgba(226, 232, 240, 0.6);">
                        <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‘†</div>
                        <p>ç‚¹å‡»"æ‰§è¡Œé“¾"æŒ‰é’®ï¼ŒæŸ¥çœ‹é“¾çš„å®Œæ•´æ‰§è¡Œè¿‡ç¨‹</p>
                        <p style="font-size: 0.9em; margin-top: 10px;">æ‰§è¡Œè¿‡ç¨‹ä¼šä¿ç•™ä¸‹æ¥ï¼Œæ–¹ä¾¿è®²è§£</p>
                    </div>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-card no" data-delay="0">
                    <h4>âŒ ç›´æ¥è°ƒç”¨ï¼ˆæ— é“¾ï¼‰- æ¯æ¬¡éƒ½å¾ˆéº»çƒ¦</h4>
                    <div class="mini-code">
                        <span class="comment"># ç¬¬1æ¬¡è°ƒç”¨ï¼šæ‰‹åŠ¨æ‹¼æ¥æç¤ºè¯</span><br>
                        msg1 = <span class="string">f"ç”¨ä¸€å¥è¯è§£é‡Šï¼šPython"</span><br>
                        <span class="function">response1</span> = llm.invoke(msg1)<br>
                        <span class="function">result1</span> = response1.content<br><br>

                        <span class="comment"># ç¬¬2æ¬¡è°ƒç”¨ï¼šåˆè¦é‡å¤å†™ä¸€é</span><br>
                        msg2 = <span class="string">f"ç”¨ä¸€å¥è¯è§£é‡Šï¼šJS"</span><br>
                        <span class="function">response2</span> = llm.invoke(msg2)<br>
                        <span class="function">result2</span> = response2.content<br><br>

                        <span class="comment"># ç¬¬3æ¬¡è°ƒç”¨ï¼šè¿˜æ˜¯é‡å¤åŠ³åŠ¨</span><br>
                        msg3 = <span class="string">f"ç”¨ä¸€å¥è¯è§£é‡Šï¼šLangChain"</span><br>
                        <span class="function">response3</span> = llm.invoke(msg3)<br>
                        <span class="function">result3</span> = response3.content<br><br>

                        <span style="color: #ef4444; font-size: 0.9em;">âŒ 3æ¬¡è°ƒç”¨ = 12è¡Œä»£ç </span>
                    </div>
                </div>

                <div class="comparison-card yes" data-delay="300">
                    <h4>âœ… ä½¿ç”¨é“¾ - ä¸€æ¬¡å®šä¹‰ï¼Œæ— é™å¤ç”¨</h4>
                    <div class="mini-code">
                        <span style="background: rgba(34, 197, 94, 0.2); padding: 4px 8px; border-radius: 4px; font-size: 0.85em;">ğŸ“Œ ç¬¬1æ­¥ï¼šåˆ›å»ºæç¤ºè¯æ¨¡æ¿ï¼ˆä»…1æ¬¡ï¼‰</span><br>
                        prompt = ChatPromptTemplate(<br>
                        &nbsp;&nbsp;<span class="string">"ç”¨ä¸€å¥è¯è§£é‡Šï¼š{topic}"</span><br>
                        )<br><br>

                        <span style="background: rgba(34, 197, 94, 0.2); padding: 4px 8px; border-radius: 4px; font-size: 0.85em;">ğŸ”— ç¬¬2æ­¥ï¼šç»„è£…é“¾ï¼ˆä»…1æ¬¡ï¼‰</span><br>
                        chain = prompt | llm | parser<br><br>

                        <span style="background: rgba(139, 92, 246, 0.2); padding: 4px 8px; border-radius: 4px; font-size: 0.85em;">ğŸš€ ç¬¬3æ­¥ï¼šä»»æ„è°ƒç”¨ï¼ˆè¶…çº§ç®€å•ï¼‰</span><br>
                        <span class="function">result1</span> = chain.invoke({<span class="string">"topic"</span>:<span class="string">"Python"</span>})<br>
                        <span class="function">result2</span> = chain.invoke({<span class="string">"topic"</span>:<span class="string">"JS"</span>})<br>
                        <span class="function">result3</span> = chain.invoke({<span class="string">"topic"</span>:<span class="string">"LangChain"</span>})<br><br>

                        <span style="color: #22c55e; font-size: 0.9em;">âœ… 3æ¬¡è°ƒç”¨ = 3è¡Œä»£ç  (å‡å°‘75%)</span>
                    </div>
                </div>
            </div>

            <div style="margin-top: 30px; padding: 20px; background: rgba(139, 92, 246, 0.1); border-left: 4px solid #a78bfa; border-radius: 8px;">
                <h4 style="color: #a78bfa; margin-bottom: 12px;">ğŸ’¡ æ ¸å¿ƒä¼˜åŠ¿å¯¹æ¯”</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div>
                        <strong style="color: #ef4444;">âŒ æ— é“¾çš„ç—›ç‚¹ï¼š</strong>
                        <ul style="margin-top: 8px; padding-left: 20px; color: rgba(226, 232, 240, 0.8); line-height: 1.8;">
                            <li>æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æ‹¼æ¥æç¤ºè¯</li>
                            <li>æ¯æ¬¡éƒ½è¦æå– .content</li>
                            <li>ä¿®æ”¹æç¤ºè¯éœ€è¦æ”¹å¤šå¤„</li>
                            <li>ä»£ç é‡å¤,éš¾ä»¥ç»´æŠ¤</li>
                        </ul>
                    </div>
                    <div>
                        <strong style="color: #22c55e;">âœ… æœ‰é“¾çš„ä¼˜åŠ¿ï¼š</strong>
                        <ul style="margin-top: 8px; padding-left: 20px; color: rgba(226, 232, 240, 0.8); line-height: 1.8;">
                            <li>æç¤ºè¯æ¨¡æ¿åŒ–ï¼Œæ”¯æŒå˜é‡{topic}</li>
                            <li>è‡ªåŠ¨è§£æï¼Œç›´æ¥è¿”å›å­—ç¬¦ä¸²</li>
                            <li>æ”¹æç¤ºè¯åªéœ€æ”¹1å¤„</li>
                            <li>ä»£ç ç®€æ´ï¼Œæ˜“äºç»´æŠ¤</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- åœºæ™¯ 5: é“¾çš„ç»„åˆ -->
        <div class="scene" id="scene5">
            <h2 class="scene-title">ğŸ”— é“¾çš„ç»„åˆï¼šæ„å»ºå¤æ‚æµç¨‹</h2>

            <div style="text-align: center; margin-bottom: 30px; padding: 20px; background: rgba(139, 92, 246, 0.1); border-radius: 12px;">
                <h3 style="color: #a78bfa; margin-bottom: 10px;">ğŸ“‹ æ¼”ç¤ºåœºæ™¯ï¼šå¤šæ­¥éª¤ç¿»è¯‘é“¾</h3>
                <p style="color: rgba(226, 232, 240, 0.8);">
                    è¾“å…¥ä¸­æ–‡ â†’ ç¿»è¯‘æˆè‹±æ–‡ â†’ æ¶¦è‰²è‹±æ–‡ â†’ è¿”å›æœ€ç»ˆç»“æœ
                </p>
            </div>

            <div class="demo-playground">
                <div class="demo-input">
                    <label>ğŸ¯ è¾“å…¥ä¸€æ®µä¸­æ–‡ï¼š</label>
                    <input type="text" id="composeInput" value="æˆ‘å–œæ¬¢å­¦ä¹ ç¼–ç¨‹" placeholder="ä¾‹å¦‚ï¼šæˆ‘å–œæ¬¢å­¦ä¹ ç¼–ç¨‹">
                </div>

                <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="demo-btn" onclick="runComposeDemo()">â–¶ï¸ æ‰§è¡Œç»„åˆé“¾</button>
                    <button class="demo-btn" id="resetComposeBtn" onclick="resetComposeDemo()" style="display: none; background: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.5);">ğŸ”„ é‡ç½®æ¼”ç¤º</button>
                </div>

                <div class="demo-output" id="composeOutput">
                    <div style="text-align: center; padding: 40px; color: rgba(226, 232, 240, 0.6);">
                        <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‘†</div>
                        <p>ç‚¹å‡»"æ‰§è¡Œç»„åˆé“¾"æŒ‰é’®ï¼ŒæŸ¥çœ‹å¤šé“¾ç»„åˆçš„æ‰§è¡Œè¿‡ç¨‹</p>
                        <p style="font-size: 0.9em; margin-top: 10px;">æ•°æ®å°†ä¾æ¬¡æµç»å¤šä¸ªé“¾ï¼Œæ¯ä¸ªé“¾éƒ½å¤„ç†ä¸€æ¬¡</p>
                    </div>
                </div>
            </div>

            <div class="highlight-box" style="margin-top: 30px;">
                <h3>ğŸ’¡ ä»€ä¹ˆæ˜¯é“¾çš„ç»„åˆï¼Ÿ</h3>
                <p style="line-height: 1.8; font-size: 1.05em;">
                    å°±åƒå·¥å‚æµæ°´çº¿ä¸€æ ·ï¼Œ<strong>é“¾çš„ç»„åˆ</strong>è®©æ•°æ®ä¾æ¬¡æµç»å¤šä¸ªå¤„ç†æ­¥éª¤ï¼š<br><br>
                    <span style="color: #a78bfa;">ğŸ“ é“¾1 (ç¿»è¯‘)</span> â†’ <span style="color: #60a5fa;">ğŸ¤– é“¾2 (æ¶¦è‰²)</span> â†’ <span style="color: #22c55e;">âœ… æœ€ç»ˆç»“æœ</span><br><br>
                    æ¯ä¸ªé“¾éƒ½ä¸“æ³¨äºä¸€ä¸ªä»»åŠ¡ï¼Œå¤šä¸ªé“¾ä¸²è”èµ·æ¥å°±èƒ½å®Œæˆå¤æ‚çš„å¤„ç†æµç¨‹ï¼
                </p>
            </div>

            <div class="comparison-grid" style="margin-top: 30px;">
                <div class="comparison-card no" data-delay="0">
                    <h4>âŒ ä¸ç”¨é“¾ç»„åˆ - ä»£ç æ··ä¹±</h4>
                    <div class="mini-code">
                        <span class="comment"># æ‰‹åŠ¨è°ƒç”¨æ¯ä¸ªæ­¥éª¤</span><br>
                        text = <span class="string">"æˆ‘å–œæ¬¢ç¼–ç¨‹"</span><br>
                        <br>
                        <span class="comment"># æ­¥éª¤1: ç¿»è¯‘</span><br>
                        trans_prompt = <span class="string">f"ç¿»è¯‘: {text}"</span><br>
                        translated = llm.invoke(trans_prompt)<br>
                        trans_result = translated.content<br><br>

                        <span class="comment"># æ­¥éª¤2: æ¶¦è‰²</span><br>
                        polish_prompt = <span class="string">f"æ¶¦è‰²: {trans_result}"</span><br>
                        polished = llm.invoke(polish_prompt)<br>
                        final = polished.content<br><br>

                        <span style="color: #ef4444; font-size: 0.85em;">âŒ ä»£ç å†—é•¿ï¼Œéš¾å¤ç”¨</span>
                    </div>
                </div>

                <div class="comparison-card yes" data-delay="300">
                    <h4>âœ… ä½¿ç”¨é“¾ç»„åˆ - ç®€æ´ä¼˜é›…</h4>
                    <div class="mini-code">
                        <span class="comment"># å®šä¹‰ä¸¤ä¸ªç®€å•çš„é“¾</span><br>
                        chain1 = prompt1 | llm<br>
                        chain2 = prompt2 | llm<br><br>
                        <span class="comment"># ç»„åˆåœ¨ä¸€èµ·ï¼</span><br>
                        combined = chain1 | chain2<br><br>
                        <span class="comment"># ä¸€æ¬¡è°ƒç”¨å®Œæˆæ‰€æœ‰æ­¥éª¤</span><br>
                        result = combined.invoke(text)<br><br>

                        <span style="color: #22c55e; font-size: 0.85em;">âœ… æ¸…æ™°ã€å¯å¤ç”¨ã€æ˜“ç»´æŠ¤</span>
                    </div>
                </div>
            </div>

            <div class="feature-grid" style="margin-top: 30px;">
                <div class="feature-item" data-delay="0">
                    <div class="feature-icon">ğŸ”€</div>
                    <h4>ä¸²è”å¤šä¸ªé“¾</h4>
                    <p>å°†å¤šä¸ªé“¾ä¸²è”èµ·æ¥ï¼Œæ„å»ºå¤æ‚çš„å·¥ä½œæµ</p>
                </div>

                <div class="feature-item" data-delay="100">
                    <div class="feature-icon">ğŸ“¦</div>
                    <h4>å°è£…å¤ç”¨</h4>
                    <p>æ¯ä¸ªé“¾éƒ½æ˜¯ç‹¬ç«‹çš„å¯å¤ç”¨ç»„ä»¶</p>
                </div>

                <div class="feature-item" data-delay="200">
                    <div class="feature-icon">ğŸ”„</div>
                    <h4>åŠ¨æ€ç»„åˆ</h4>
                    <p>æ ¹æ®æ¡ä»¶åŠ¨æ€é€‰æ‹©å’Œç»„åˆä¸åŒçš„é“¾</p>
                </div>

                <div class="feature-item" data-delay="300">
                    <div class="feature-icon">âš¡</div>
                    <h4>æ˜“äºæµ‹è¯•</h4>
                    <p>æ¯ä¸ªç»„ä»¶å¯ä»¥å•ç‹¬æµ‹è¯•å’Œè°ƒè¯•</p>
                </div>
            </div>

            <div class="highlight-box" style="background: rgba(34, 197, 94, 0.15); border-left-color: #22c55e; margin-top: 30px;">
                <h3 style="color: #22c55e;">ğŸš€ å®é™…åº”ç”¨åœºæ™¯</h3>
                <p style="font-size: 1.05em; line-height: 2;">
                    <strong>æ‘˜è¦ç”Ÿæˆé“¾ï¼š</strong>æå–æ–‡æœ¬ â†’ æ€»ç»“è¦ç‚¹ â†’ ç”Ÿæˆæ‘˜è¦<br><br>
                    <strong>é—®ç­”é“¾ï¼š</strong>æ£€ç´¢æ–‡æ¡£ â†’ ç”Ÿæˆç­”æ¡ˆ â†’ éªŒè¯è´¨é‡<br><br>
                    <strong>ç¿»è¯‘é“¾ï¼š</strong>æ£€æµ‹è¯­è¨€ â†’ ç¿»è¯‘å†…å®¹ â†’ æ ¡å¯¹ç»“æœ<br><br>
                    <strong>ä»£ç ç”Ÿæˆé“¾ï¼š</strong>ç†è§£éœ€æ±‚ â†’ ç”Ÿæˆä»£ç  â†’ æ£€æŸ¥è¯­æ³• â†’ ä¼˜åŒ–ä»£ç 
                </p>
            </div>
        </div>

        <!-- åœºæ™¯ 6: å®è·µç¤ºä¾‹ -->
        <div class="scene" id="scene6">
            <h2 class="scene-title">ğŸ¯ å®è·µï¼šæ ¸å¿ƒä»£ç ç²¾è®²</h2>

            <div class="comparison-grid">
                <div class="comparison-card" data-delay="0" style="background: rgba(139, 92, 246, 0.1); border: 2px solid rgba(139, 92, 246, 0.3);">
                    <h4 style="color: #a78bfa;">ğŸ“ 1. åˆ›å»ºæç¤ºè¯æ¨¡æ¿</h4>
                    <div class="mini-code">
                        <span class="keyword">from</span> langchain_core.prompts <span class="keyword">import</span> ChatPromptTemplate<br><br>
                        prompt = ChatPromptTemplate.from_template(<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="string">"ç”¨ä¸€å¥è¯è§£é‡Šï¼š{topic}"</span><br>
                        )<br><br>
                        <span class="comment"># âœ… æ”¯æŒ {topic} å˜é‡æ›¿æ¢</span>
                    </div>
                </div>

                <div class="comparison-card" data-delay="300" style="background: rgba(59, 130, 246, 0.1); border: 2px solid rgba(59, 130, 246, 0.3);">
                    <h4 style="color: #60a5fa;">ğŸ¤– 2. åˆ›å»º LLM</h4>
                    <div class="mini-code">
                        <span class="keyword">from</span> langchain_openai <span class="keyword">import</span> ChatOpenAI<br><br>
                        llm = ChatOpenAI(<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;model=<span class="string">"gpt-3.5-turbo"</span><br>
                        )<br><br>
                        <span class="comment"># âœ… ç»Ÿä¸€çš„æ¨¡å‹æ¥å£</span>
                    </div>
                </div>

                <div class="comparison-card" data-delay="600" style="background: rgba(168, 85, 247, 0.1); border: 2px solid rgba(168, 85, 247, 0.3);">
                    <h4 style="color: #a855f7;">ğŸ“¤ 3. åˆ›å»ºè¾“å‡ºè§£æå™¨</h4>
                    <div class="mini-code">
                        <span class="keyword">from</span> langchain_core.output_parsers <span class="keyword">import</span> StrOutputParser<br><br>
                        parser = StrOutputParser()<br><br>
                        <span class="comment"># âœ… å°†è¾“å‡ºè½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
                    </div>
                </div>

                <div class="comparison-card" data-delay="900" style="background: rgba(34, 197, 94, 0.1); border: 2px solid rgba(34, 197, 94, 0.3);">
                    <h4 style="color: #22c55e;">ğŸ”— 4. ç”¨ç®¡é“ä¸²è”</h4>
                    <div class="mini-code">
                        <span class="comment"># ä½¿ç”¨ LCEL ç®¡é“æ“ä½œç¬¦ |</span><br>
                        chain = prompt | llm | parser<br><br>
                        <span class="comment"># âœ… å®Œæˆé“¾çš„æ„å»ºï¼</span>
                    </div>
                </div>
            </div>

            <div class="highlight-box" style="background: rgba(34, 197, 94, 0.15); border-left-color: #22c55e;">
                <h3 style="color: #22c55e;">ğŸ‰ è°ƒç”¨é“¾</h3>
                <div class="mini-code">
                    <span class="comment"># ä¼ å…¥å‚æ•°ï¼Œæ‰§è¡Œé“¾</span><br>
                    result = chain.invoke({<span class="string">"topic"</span>: <span class="string">"Python"</span>})<br><br>
                    <span class="function">print</span>(result)<br>
                    <span class="comment"># è¾“å‡ºï¼šPython æ˜¯ä¸€ç§ç®€æ´ä¼˜é›…çš„ç¼–ç¨‹è¯­è¨€...</span>
                </div>
            </div>

            <div class="feature-grid">
                <div class="feature-item" data-delay="0">
                    <div class="feature-icon">âœ¨</div>
                    <h4>ç®€æ´ä¼˜é›…</h4>
                    <p>ä»…ç”¨ 4 è¡Œä»£ç æ„å»ºå®Œæ•´çš„é“¾</p>
                </div>

                <div class="feature-item" data-delay="100">
                    <div class="feature-icon">ğŸ”„</div>
                    <h4>æ˜“äºå¤ç”¨</h4>
                    <p>ä¸€æ¬¡å®šä¹‰ï¼Œæ— é™æ¬¡è°ƒç”¨</p>
                </div>

                <div class="feature-item" data-delay="200">
                    <div class="feature-icon">ğŸ”§</div>
                    <h4>æ˜“äºç»´æŠ¤</h4>
                    <p>ä¿®æ”¹æç¤ºè¯åªéœ€æ”¹æ¨¡æ¿</p>
                </div>

                <div class="feature-item" data-delay="300">
                    <div class="feature-icon">ğŸš€</div>
                    <h4>æ˜“äºæ‰©å±•</h4>
                    <p>è½»æ¾æ·»åŠ æ–°çš„ç»„ä»¶</p>
                </div>
            </div>
        </div>

        <!-- åœºæ™¯æŒ‡ç¤ºå™¨ -->
        <div class="scene-indicators">
            <div class="indicator active" data-scene="1"></div>
            <div class="indicator" data-scene="2"></div>
            <div class="indicator" data-scene="3"></div>
            <div class="indicator" data-scene="4"></div>
            <div class="indicator" data-scene="5"></div>
            <div class="indicator" data-scene="6"></div>
        </div>

        <!-- å¯¼èˆªæŒ‰é’® -->
        <div class="nav-buttons">
            <button class="nav-btn" id="prevBtn" disabled>
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                ä¸Šä¸€èŠ‚
            </button>
            <a href="index.html" class="nav-btn back-to-list">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"/>
                </svg>
                è¯¾ç¨‹åˆ—è¡¨
            </a>
            <button class="nav-btn next" id="nextBtn">
                ä¸‹ä¸€èŠ‚
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        // åœºæ™¯æ•°æ®
        const totalScenes = 6;
        let currentScene = 1;

        // DOM å…ƒç´ 
        const progressBar = document.getElementById('progressBar');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const indicators = document.querySelectorAll('.indicator');

        // åˆå§‹åŒ–
        function init() {
            updateScene();
            setupEventListeners();
            animateSceneElements();
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬
        function setupEventListeners() {
            // å¯¼èˆªæŒ‰é’®
            prevBtn.addEventListener('click', () => {
                if (currentScene > 1) {
                    currentScene--;
                    updateScene();
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentScene < totalScenes) {
                    currentScene++;
                    updateScene();
                }
            });

            // æŒ‡ç¤ºå™¨
            indicators.forEach(indicator => {
                indicator.addEventListener('click', () => {
                    currentScene = parseInt(indicator.dataset.scene);
                    updateScene();
                });
            });

            // é”®ç›˜å¯¼èˆª
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' && currentScene < totalScenes) {
                    currentScene++;
                    updateScene();
                } else if (e.key === 'ArrowLeft' && currentScene > 1) {
                    currentScene--;
                    updateScene();
                }
            });
        }

        // æ›´æ–°åœºæ™¯
        function updateScene() {
            // æ›´æ–°è¿›åº¦æ¡
            const progress = ((currentScene - 1) / (totalScenes - 1)) * 100;
            progressBar.style.width = progress + '%';

            // æ›´æ–°åœºæ™¯æ˜¾ç¤º
            document.querySelectorAll('.scene').forEach((scene, index) => {
                if (index + 1 === currentScene) {
                    scene.classList.add('active');
                } else {
                    scene.classList.remove('active');
                }
            });

            // æ›´æ–°æŒ‡ç¤ºå™¨
            indicators.forEach((indicator, index) => {
                if (index + 1 === currentScene) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            prevBtn.disabled = currentScene === 1;
            nextBtn.disabled = currentScene === totalScenes;

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // åŠ¨ç”»æ˜¾ç¤ºå…ƒç´ 
            setTimeout(() => {
                animateSceneElements();
            }, 300);
        }

        // åŠ¨ç”»æ˜¾ç¤ºåœºæ™¯å…ƒç´ 
        function animateSceneElements() {
            const currentSceneEl = document.querySelector(`#scene${currentScene}`);

            // é—®é¢˜ç›’å­åŠ¨ç”»
            currentSceneEl.querySelectorAll('.problem-box').forEach((box, index) => {
                const delay = parseInt(box.dataset.delay) || index * 300;
                setTimeout(() => {
                    box.classList.add('visible');
                }, delay);
            });

            // é—®é¢˜ç®­å¤´åŠ¨ç”»
            currentSceneEl.querySelectorAll('.problem-arrow').forEach((arrow, index) => {
                const delay = parseInt(arrow.dataset.delay) || index * 300;
                setTimeout(() => {
                    arrow.classList.add('visible');
                }, delay);
            });

            // é“¾ç»„ä»¶åŠ¨ç”»
            currentSceneEl.querySelectorAll('.chain-component').forEach((component, index) => {
                const delay = parseInt(component.dataset.delay) || index * 300;
                setTimeout(() => {
                    component.classList.add('visible');
                }, delay);
            });

            // é“¾è¿æ¥å™¨åŠ¨ç”»
            currentSceneEl.querySelectorAll('.chain-connector').forEach((connector, index) => {
                const delay = parseInt(connector.dataset.delay) || index * 300;
                setTimeout(() => {
                    connector.classList.add('visible');
                }, delay);
            });

            // æµç¨‹æ­¥éª¤åŠ¨ç”»
            currentSceneEl.querySelectorAll('.flow-step').forEach((step, index) => {
                const delay = parseInt(step.dataset.delay) || index * 400;
                setTimeout(() => {
                    step.classList.add('visible');
                }, delay);
            });

            // æµç¨‹ç®­å¤´åŠ¨ç”»
            currentSceneEl.querySelectorAll('.flow-arrow').forEach((arrow, index) => {
                const delay = parseInt(arrow.dataset.delay) || index * 400;
                setTimeout(() => {
                    arrow.classList.add('visible');
                }, delay);
            });

            // ç‰¹æ€§é¡¹åŠ¨ç”»
            currentSceneEl.querySelectorAll('.feature-item').forEach((item, index) => {
                const delay = parseInt(item.dataset.delay) || index * 100;
                setTimeout(() => {
                    item.classList.add('visible');
                }, delay);
            });

            // å¯¹æ¯”å¡ç‰‡åŠ¨ç”»
            currentSceneEl.querySelectorAll('.comparison-card').forEach((card, index) => {
                const delay = parseInt(card.dataset.delay) || index * 300;
                setTimeout(() => {
                    card.classList.add('visible');
                }, delay);
            });
        }

        // ä¿å­˜å®Œæ•´çš„æ‰§è¡Œç»“æœç”¨äºé‡ç½®
        let executionResultHtml = '';

        // æ‰§è¡Œé“¾çš„æ¼”ç¤º
        async function runChainDemo() {
            const topic = document.getElementById('topicInput').value || 'Python';
            const outputDisplay = document.getElementById('chainOutput');
            const btn = document.querySelector('.demo-btn');
            const resetBtn = document.getElementById('resetBtn');

            // ç¦ç”¨æŒ‰é’®
            btn.disabled = true;
            btn.textContent = 'â³ æ‰§è¡Œä¸­...';
            outputDisplay.classList.remove('has-result');

            // æ­¥éª¤é…ç½®
            const steps = [
                {
                    emoji: 'ğŸ“¥',
                    title: 'æ¥æ”¶è¾“å…¥',
                    content: `<code style="font-size: 0.9em;">{"topic": "${topic}"}</code>`,
                    detail: 'é“¾æ¥æ”¶æ¥è‡ªç”¨æˆ·çš„è¾“å…¥å‚æ•°'
                },
                {
                    emoji: 'ğŸ“',
                    title: 'Prompt æ ¼å¼åŒ–',
                    content: `<span style="color: #a78bfa;">"ç”¨ä¸€å¥è¯è§£é‡Šï¼š${topic}"</span>`,
                    detail: 'PromptTemplate å°†è¾“å…¥æ ¼å¼åŒ–ä¸ºæç¤ºè¯'
                },
                {
                    emoji: 'ğŸ¤–',
                    title: 'LLM æ¨ç†',
                    content: `<span style="color: rgba(226, 232, 240, 0.7);">æ­£åœ¨è°ƒç”¨å¤§æ¨¡å‹ç”Ÿæˆç­”æ¡ˆ...</span>`,
                    detail: 'å°†æ ¼å¼åŒ–åçš„æç¤ºè¯å‘é€ç»™ LLM'
                },
                {
                    emoji: 'ğŸ”§',
                    title: 'Parser è§£æ',
                    content: `<span style="color: rgba(226, 232, 240, 0.7);">å°† LLM è¾“å‡ºè½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>`,
                    detail: 'StrOutputParser è§£ææ¨¡å‹è¿”å›çš„ç»“æœ'
                },
                {
                    emoji: 'âœ…',
                    title: 'æ‰§è¡Œå®Œæˆ',
                    content: `<span style="color: #22c55e;">å‡†å¤‡è¿”å›æœ€ç»ˆç»“æœ</span>`,
                    detail: 'é“¾å¼è°ƒç”¨å®Œæˆï¼Œè¿”å›ç»“æœç»™ç”¨æˆ·'
                }
            ];

            // æ¸…ç©ºå¹¶å‡†å¤‡æ˜¾ç¤º
            let stepsHtml = '';
            outputDisplay.innerHTML = `
                <div style="text-align: left;">
                    <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <strong style="color: #a78bfa;">ğŸ”„ é“¾å¼æ‰§è¡Œæµç¨‹ï¼š</strong>
                    </div>
                    <div id="stepsContainer"></div>
                </div>
            `;

            const stepsContainer = outputDisplay.querySelector('#stepsContainer');

            // é€æ­¥æ˜¾ç¤ºæ‰§è¡Œè¿‡ç¨‹
            for (let i = 0; i < steps.length; i++) {
                const step = steps[i];
                const isLast = i === steps.length - 1;

                // åˆ›å»ºæ­¥éª¤HTML
                const stepHtml = `
                    <div class="execution-step ${isLast ? 'current' : ''}" style="
                        margin-bottom: 20px;
                        padding: 15px;
                        background: ${isLast ? 'rgba(139, 92, 246, 0.2)' : 'rgba(255, 255, 255, 0.05)'};
                        border-left: 4px solid ${isLast ? '#8b5cf6' : 'rgba(255, 255, 255, 0.2)'};
                        border-radius: 8px;
                        animation: slideIn 0.5s ease-out;
                    ">
                        <div style="display: flex; align-items: flex-start; gap: 12px;">
                            <div style="font-size: 1.8em;">${step.emoji}</div>
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <strong style="color: ${isLast ? '#a78bfa' : '#e2e8f0'}; font-size: 1.05em;">
                                        æ­¥éª¤ ${i + 1}ï¼š${step.title}
                                    </strong>
                                    ${isLast ? '<span class="loading-dots">å¤„ç†ä¸­</span>' : '<span style="color: #22c55e;">âœ“ å®Œæˆ</span>'}
                                </div>
                                <div style="color: rgba(226, 232, 240, 0.9); line-height: 1.6;">
                                    ${step.content}
                                </div>
                                <div style="color: rgba(226, 232, 240, 0.5); font-size: 0.9em; margin-top: 6px;">
                                    ${step.detail}
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                // ç´¯ç§¯æ˜¾ç¤ºæ­¥éª¤ï¼ˆä¿ç•™ä¹‹å‰çš„æ­¥éª¤ï¼‰
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = stepsHtml + stepHtml;
                stepsContainer.innerHTML = tempDiv.innerHTML;
                stepsHtml += stepHtml;

                // æ›´æ–°ä¹‹å‰æ­¥éª¤çš„çŠ¶æ€ä¸ºå·²å®Œæˆ
                if (i > 0) {
                    const allSteps = stepsContainer.querySelectorAll('.execution-step');
                    allSteps.forEach((stepEl, index) => {
                        if (index < i) {
                            stepEl.style.background = 'rgba(34, 197, 94, 0.1)';
                            stepEl.style.borderLeftColor = '#22c55e';
                        }
                    });
                }

                // ä¸åŒæ­¥éª¤ç­‰å¾…ä¸åŒæ—¶é—´
                const waitTime = i === 2 ? 2000 : 1500; // LLMæ¨ç†æ­¥éª¤ç­‰å¾…æ›´ä¹…
                await new Promise(resolve => setTimeout(resolve, waitTime));
            }

            // æœ€ç»ˆç»“æœ
            await new Promise(resolve => setTimeout(resolve, 800));

            const responses = {
                'python': 'Python æ˜¯ä¸€ç§ç®€æ´ä¼˜é›…ã€åŠŸèƒ½å¼ºå¤§çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ã€‚',
                'javascript': 'JavaScript æ˜¯è®©ç½‘é¡µ"æ´»"èµ·æ¥çš„è„šæœ¬è¯­è¨€ï¼ŒWeb å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯ã€‚',
                'langchain': 'LangChain æ˜¯ä¸€ä¸ªè®©å¤§æ¨¡å‹"é•¿å‡ºæ‰‹è„š"çš„å¼ºå¤§å¼€å‘æ¡†æ¶ã€‚',
                'java': 'Java æ˜¯ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œçš„è·¨å¹³å°ç¼–ç¨‹è¯­è¨€ã€‚',
                'react': 'React æ˜¯æ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼Œç»„ä»¶åŒ–å¼€å‘çš„é¦–é€‰ã€‚',
                'vue': 'Vue.js æ˜¯æ¸è¿›å¼ JavaScript æ¡†æ¶ï¼Œæ˜“å­¦æ˜“ç”¨ã€‚',
                'node': 'Node.js æ˜¯è®© JavaScript è¿è¡Œåœ¨æœåŠ¡ç«¯çš„è¿è¡Œæ—¶ç¯å¢ƒã€‚',
                'default': `${topic} æ˜¯ä¸€ä¸ªé‡è¦çš„æŠ€æœ¯æ¦‚å¿µï¼Œå€¼å¾—æ·±å…¥å­¦ä¹ å’Œæ¢ç´¢ã€‚`
            };

            const key = topic.toLowerCase().trim();
            const result = responses[key] || responses['default'];

            // ç”Ÿæˆæœ€ç»ˆç»“æœHTML
            const finalHtml = `
                <div style="text-align: left; animation: fadeIn 0.6s ease-out;">
                    <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <strong style="color: #a78bfa;">ğŸ”„ é“¾å¼æ‰§è¡Œæµç¨‹ï¼š</strong>
                    </div>

                    <div id="stepsContainer">
                        ${stepsHtml}
                    </div>

                    <div style="margin-top: 25px; padding: 15px; background: rgba(34, 197, 94, 0.1); border-left: 4px solid #22c55e; border-radius: 8px;">
                        <strong style="color: #22c55e; font-size: 1.1em;">âœ… æ‰€æœ‰æ­¥éª¤æ‰§è¡Œå®Œæˆ</strong>
                    </div>

                    <div style="margin: 20px 0 15px;">
                        <strong style="color: #a78bfa;">ğŸ‰ æœ€ç»ˆç»“æœï¼š</strong>
                    </div>

                    <div style="
                        padding: 20px;
                        background: rgba(139, 92, 246, 0.1);
                        border: 2px solid rgba(139, 92, 246, 0.3);
                        border-radius: 12px;
                        line-height: 1.8;
                        margin-bottom: 20px;
                    ">
                        <span style="color: #4ade80; font-size: 1.15em;">${result}</span>
                    </div>

                    <div style="padding: 15px; background: rgba(139, 92, 246, 0.05); border: 1px solid rgba(139, 92, 246, 0.2); border-radius: 8px; color: rgba(226, 232, 240, 0.8); font-size: 0.95em; line-height: 1.7;">
                        ğŸ’¡ <strong style="color: #a78bfa;">æ ¸å¿ƒæ¦‚å¿µï¼š</strong><br>
                        è¿™å°±æ˜¯ LangChain çš„ <strong style="color: #a78bfa;">LCELï¼ˆLangChain Expression Languageï¼‰</strong> è¯­æ³•ï¼š<br>
                        <code style="background: rgba(0,0,0,0.3); padding: 4px 10px; border-radius: 4px; margin: 5px 0; display: inline-block;">prompt | llm | parser</code><br><br>
                        <strong style="color: #22c55e;">âœ“ æ•°æ®ä»å·¦åˆ°å³ä¾æ¬¡æµåŠ¨</strong><br>
                        <strong style="color: #22c55e;">âœ“ æ¯ä¸ªç»„ä»¶å¤„ç†æ•°æ®åä¼ é€’ç»™ä¸‹ä¸€ä¸ª</strong><br>
                        <strong style="color: #22c55e;">âœ“ ç®€æ´ã€ç›´è§‚ã€æ˜“ç»„åˆ</strong>
                    </div>
                </div>
            `;

            outputDisplay.innerHTML = finalHtml;
            outputDisplay.classList.add('has-result');

            // ä¿å­˜ç»“æœç”¨äºé‡ç½®
            executionResultHtml = finalHtml;

            // æ¢å¤æŒ‰é’®å¹¶æ˜¾ç¤ºé‡ç½®æŒ‰é’®
            btn.disabled = false;
            btn.textContent = 'â–¶ï¸ å†æ¬¡æ‰§è¡Œ';
            resetBtn.style.display = 'inline-flex';
        }

        // é‡ç½®æ¼”ç¤º
        function resetDemo() {
            const outputDisplay = document.getElementById('chainOutput');
            const btn = document.querySelector('.demo-btn');
            const resetBtn = document.getElementById('resetBtn');
            const topicInput = document.getElementById('topicInput');

            // æ¢å¤åˆå§‹çŠ¶æ€
            outputDisplay.innerHTML = `
                <div style="text-align: center; padding: 40px; color: rgba(226, 232, 240, 0.6);">
                    <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‘†</div>
                    <p>ç‚¹å‡»"æ‰§è¡Œé“¾"æŒ‰é’®ï¼ŒæŸ¥çœ‹é“¾çš„å®Œæ•´æ‰§è¡Œè¿‡ç¨‹</p>
                    <p style="font-size: 0.9em; margin-top: 10px;">æ‰§è¡Œè¿‡ç¨‹ä¼šä¿ç•™ä¸‹æ¥ï¼Œæ–¹ä¾¿è®²è§£</p>
                </div>
            `;
            outputDisplay.classList.remove('has-result');

            btn.textContent = 'â–¶ï¸ æ‰§è¡Œé“¾';
            resetBtn.style.display = 'none';
            topicInput.value = 'Python';

            // æ¸…ç©ºä¿å­˜çš„ç»“æœ
            executionResultHtml = '';
        }

        // é“¾ç»„åˆæ¼”ç¤ºå‡½æ•°
        async function runComposeDemo() {
            const input = document.getElementById('composeInput').value || 'æˆ‘å–œæ¬¢å­¦ä¹ ç¼–ç¨‹';
            const outputDisplay = document.getElementById('composeOutput');
            const btn = document.querySelector('.scene#scene5 .demo-btn');
            const resetBtn = document.getElementById('resetComposeBtn');

            // ç¦ç”¨æŒ‰é’®
            btn.disabled = true;
            btn.textContent = 'â³ æ‰§è¡Œä¸­...';
            outputDisplay.classList.remove('has-result');

            // æ¨¡æ‹Ÿæ•°æ®æµ
            const steps = [
                {
                    name: 'è¾“å…¥',
                    emoji: 'ğŸ“¥',
                    title: 'æ¥æ”¶è¾“å…¥',
                    content: `"${input}"`,
                    detail: 'ç»„åˆé“¾æ¥æ”¶åŸå§‹ä¸­æ–‡è¾“å…¥'
                },
                {
                    name: 'é“¾1',
                    emoji: 'ğŸ“',
                    title: 'é“¾1ï¼šç¿»è¯‘',
                    content: 'æç¤ºè¯ï¼š"å°†ä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡"',
                    detail: 'PromptTemplate ç¿»è¯‘æç¤ºè¯'
                },
                {
                    name: 'LLM1',
                    emoji: 'ğŸ¤–',
                    title: 'LLM æ¨ç†1',
                    content: 'ç”Ÿæˆè‹±æ–‡ç¿»è¯‘...',
                    detail: 'LLM å°†ä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡'
                },
                {
                    name: 'ä¸­é—´ç»“æœ',
                    emoji: 'ğŸ”„',
                    title: 'ä¸­é—´ç»“æœ',
                    content: '"I love learning programming"',
                    detail: 'é“¾1å®Œæˆï¼Œç»“æœä¼ é€’ç»™é“¾2'
                },
                {
                    name: 'é“¾2',
                    emoji: 'ğŸ“',
                    title: 'é“¾2ï¼šæ¶¦è‰²',
                    content: 'æç¤ºè¯ï¼š"è®©è‹±è¯­è¡¨è¾¾æ›´è‡ªç„¶"',
                    detail: 'PromptTemplate æ¶¦è‰²æç¤ºè¯'
                },
                {
                    name: 'LLM2',
                    emoji: 'ğŸ¤–',
                    title: 'LLM æ¨ç†2',
                    content: 'ä¼˜åŒ–è‹±æ–‡è¡¨è¾¾...',
                    detail: 'LLM å°†è‹±è¯­ç¿»è¯‘æ¶¦è‰²'
                },
                {
                    name: 'å®Œæˆ',
                    emoji: 'âœ…',
                    title: 'æœ€ç»ˆç»“æœ',
                    content: '"I am passionate about learning programming!"',
                    detail: 'é“¾2å®Œæˆï¼Œè¿”å›æœ€ç»ˆç»“æœ'
                }
            ];

            // æ¸…ç©ºå¹¶å‡†å¤‡æ˜¾ç¤º
            let stepsHtml = '';
            outputDisplay.innerHTML = `
                <div style="text-align: left;">
                    <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <strong style="color: #a78bfa;">ğŸ”— ç»„åˆé“¾æ‰§è¡Œæµç¨‹ï¼š</strong>
                    </div>
                    <div id="composeStepsContainer"></div>
                </div>
            `;

            const stepsContainer = outputDisplay.querySelector('#composeStepsContainer');

            // é€æ­¥æ˜¾ç¤ºæ‰§è¡Œè¿‡ç¨‹
            for (let i = 0; i < steps.length; i++) {
                const step = steps[i];
                const isLast = i === steps.length - 1;

                // åˆ›å»ºæ­¥éª¤HTML
                const stepHtml = `
                    <div class="execution-step" style="
                        margin-bottom: 18px;
                        padding: 15px;
                        background: ${isLast ? 'rgba(34, 197, 94, 0.15)' : 'rgba(255, 255, 255, 0.05)'};
                        border-left: 4px solid ${isLast ? '#22c55e' : 'rgba(255, 255, 255, 0.2)'};
                        border-radius: 8px;
                        animation: slideIn 0.5s ease-out;
                    ">
                        <div style="display: flex; align-items: flex-start; gap: 12px;">
                            <div style="font-size: 1.8em;">${step.emoji}</div>
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <strong style="color: ${isLast ? '#22c55e' : '#e2e8f0'}; font-size: 1.05em;">
                                        ${step.title}
                                    </strong>
                                    ${isLast ? '<span style="color: #22c55e;">âœ“ å®Œæˆ</span>' : '<span style="color: #8b5cf6;">å¤„ç†ä¸­</span>'}
                                </div>
                                <div style="color: rgba(226, 232, 240, 0.9); line-height: 1.6;">
                                    ${step.content}
                                </div>
                                <div style="color: rgba(226, 232, 240, 0.5); font-size: 0.9em; margin-top: 6px;">
                                    ${step.detail}
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                // ç´¯ç§¯æ˜¾ç¤ºæ­¥éª¤
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = stepsHtml + stepHtml;
                stepsContainer.innerHTML = tempDiv.innerHTML;
                stepsHtml += stepHtml;

                // æ›´æ–°ä¹‹å‰æ­¥éª¤çš„çŠ¶æ€
                if (i > 0) {
                    const allSteps = stepsContainer.querySelectorAll('.execution-step');
                    allSteps.forEach((stepEl, index) => {
                        if (index < i) {
                            stepEl.style.background = 'rgba(139, 92, 246, 0.1)';
                            stepEl.style.borderLeftColor = '#8b5cf6';
                            // æ›´æ–°çŠ¶æ€æ–‡æœ¬
                            const statusSpan = stepEl.querySelector('span:last-of-type');
                            if (statusSpan && statusSpan.textContent.includes('å¤„ç†ä¸­')) {
                                statusSpan.textContent = 'âœ“ å®Œæˆ';
                                statusSpan.style.color = '#8b5cf6';
                            }
                        }
                    });
                }

                // ä¸åŒæ­¥éª¤ç­‰å¾…ä¸åŒæ—¶é—´
                const waitTime = (i === 2 || i === 5) ? 2000 : 1200;
                await new Promise(resolve => setTimeout(resolve, waitTime));
            }

            // æœ€ç»ˆæ€»ç»“
            await new Promise(resolve => setTimeout(resolve, 600));

            const summaryHtml = `
                <div style="text-align: left; animation: fadeIn 0.6s ease-out;">
                    <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <strong style="color: #a78bfa;">ğŸ”— ç»„åˆé“¾æ‰§è¡Œæµç¨‹ï¼š</strong>
                    </div>

                    <div id="composeStepsContainer">
                        ${stepsHtml}
                    </div>

                    <div style="margin-top: 25px; padding: 20px; background: rgba(34, 197, 94, 0.15); border-left: 4px solid #22c55e; border-radius: 8px;">
                        <strong style="color: #22c55e; font-size: 1.1em;">âœ… ç»„åˆé“¾æ‰§è¡Œå®Œæˆ</strong>
                    </div>

                    <div style="margin-top: 20px; padding: 20px; background: rgba(139, 92, 246, 0.1); border: 2px solid rgba(139, 92, 246, 0.3); border-radius: 12px;">
                        <div style="margin-bottom: 15px;">
                            <strong style="color: #a78bfa;">ğŸ’¡ å…³é”®æ¦‚å¿µï¼š</strong>
                        </div>
                        <div style="color: rgba(226, 232, 240, 0.9); line-height: 1.8; font-size: 0.95em;">
                            <strong style="color: #a78bfa;">ç»„åˆé“¾</strong>å°±åƒå·¥å‚æµæ°´çº¿ï¼š<br><br>
                            1ï¸âƒ£ <strong style="color: #a78bfa;">é“¾1 (translation_chain)</strong>ï¼šè´Ÿè´£ç¿»è¯‘<br>
                            2ï¸âƒ£ <strong style="color: #60a5fa;">é“¾2 (polish_chain)</strong>ï¼šè´Ÿè´£æ¶¦è‰²<br>
                            3ï¸âƒ£ <strong style="color: #22c55e;">combined = chain1 | chain2</strong>ï¼šä¸²è”åœ¨ä¸€èµ·<br><br>
                            <code style="background: rgba(0,0,0,0.3); padding: 4px 10px; border-radius: 4px;">result = combined.invoke(input)</code><br><br>
                            ä¸€æ¬¡è°ƒç”¨ï¼Œä¸¤ä¸ªé“¾ä¾æ¬¡æ‰§è¡Œï¼Œè‡ªåŠ¨ä¼ é€’ä¸­é—´ç»“æœï¼
                        </div>
                    </div>
                </div>
            `;

            outputDisplay.innerHTML = summaryHtml;
            outputDisplay.classList.add('has-result');

            // æ¢å¤æŒ‰é’®å¹¶æ˜¾ç¤ºé‡ç½®æŒ‰é’®
            btn.disabled = false;
            btn.textContent = 'â–¶ï¸ å†æ¬¡æ‰§è¡Œ';
            resetBtn.style.display = 'inline-flex';
        }

        // é‡ç½®ç»„åˆæ¼”ç¤º
        function resetComposeDemo() {
            const outputDisplay = document.getElementById('composeOutput');
            const btn = document.querySelector('.scene#scene5 .demo-btn');
            const resetBtn = document.getElementById('resetComposeBtn');
            const composeInput = document.getElementById('composeInput');

            // æ¢å¤åˆå§‹çŠ¶æ€
            outputDisplay.innerHTML = `
                <div style="text-align: center; padding: 40px; color: rgba(226, 232, 240, 0.6);">
                    <div style="font-size: 3em; margin-bottom: 15px;">ğŸ‘†</div>
                    <p>ç‚¹å‡»"æ‰§è¡Œç»„åˆé“¾"æŒ‰é’®ï¼ŒæŸ¥çœ‹å¤šé“¾ç»„åˆçš„æ‰§è¡Œè¿‡ç¨‹</p>
                    <p style="font-size: 0.9em; margin-top: 10px;">æ•°æ®å°†ä¾æ¬¡æµç»å¤šä¸ªé“¾ï¼Œæ¯ä¸ªé“¾éƒ½å¤„ç†ä¸€æ¬¡</p>
                </div>
            `;
            outputDisplay.classList.remove('has-result');

            btn.textContent = 'â–¶ï¸ æ‰§è¡Œç»„åˆé“¾';
            resetBtn.style.display = 'none';
            composeInput.value = 'æˆ‘å–œæ¬¢å­¦ä¹ ç¼–ç¨‹';
        }

        // å¯åŠ¨
        init();
    </script>
</body>
</html>
